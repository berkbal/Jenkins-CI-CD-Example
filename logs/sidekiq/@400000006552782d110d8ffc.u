{"severity":"INFO","time":"2023-11-13T19:17:16.342Z","message":"Starting cluster with 1 processes"}
{"severity":"INFO","time":"2023-11-13T19:17:16.359Z","message":"Starting metrics server on port 8082"}
Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13T19:17:39.573Z pid=1067 tid=8gb WARN: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log
2023-11-13T19:17:39.574Z pid=1067 tid=8gb WARN: /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
/opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
/opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:274:in `boot_application'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:42:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/bin/sidekiq:31:in `<top (required)>'
/opt/gitlab/embedded/bin/sidekiq:25:in `load'
/opt/gitlab/embedded/bin/sidekiq:25:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
/opt/gitlab/embedded/bin/bundle:25:in `load'
/opt/gitlab/embedded/bin/bundle:25:in `<main>'
{"severity":"INFO","time":"2023-11-13T19:17:41.366Z","message":"A worker terminated, shutting down the cluster"}
{"severity":"INFO","time":"2023-11-13T19:17:50.317Z","message":"Starting cluster with 1 processes"}
{"severity":"INFO","time":"2023-11-13T19:17:50.336Z","message":"Starting metrics server on port 8082"}
Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13T19:18:13.016Z pid=2357 tid=7v9 WARN: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log
2023-11-13T19:18:13.016Z pid=2357 tid=7v9 WARN: /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
/opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
/opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:274:in `boot_application'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:42:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/bin/sidekiq:31:in `<top (required)>'
/opt/gitlab/embedded/bin/sidekiq:25:in `load'
/opt/gitlab/embedded/bin/sidekiq:25:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
/opt/gitlab/embedded/bin/bundle:25:in `load'
/opt/gitlab/embedded/bin/bundle:25:in `<main>'
{"severity":"INFO","time":"2023-11-13T19:18:15.343Z","message":"A worker terminated, shutting down the cluster"}
{"severity":"INFO","time":"2023-11-13T19:18:24.310Z","message":"Starting cluster with 1 processes"}
{"severity":"INFO","time":"2023-11-13T19:18:24.329Z","message":"Starting metrics server on port 8082"}
Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13T19:18:47.035Z pid=4180 tid=cdw WARN: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log
2023-11-13T19:18:47.035Z pid=4180 tid=cdw WARN: /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
/opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
/opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:274:in `boot_application'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:42:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/bin/sidekiq:31:in `<top (required)>'
/opt/gitlab/embedded/bin/sidekiq:25:in `load'
/opt/gitlab/embedded/bin/sidekiq:25:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
/opt/gitlab/embedded/bin/bundle:25:in `load'
/opt/gitlab/embedded/bin/bundle:25:in `<main>'
{"severity":"INFO","time":"2023-11-13T19:18:49.334Z","message":"A worker terminated, shutting down the cluster"}
{"severity":"INFO","time":"2023-11-13T19:18:58.279Z","message":"Starting cluster with 1 processes"}
{"severity":"INFO","time":"2023-11-13T19:18:58.297Z","message":"Starting metrics server on port 8082"}
Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13T19:19:20.708Z pid=5973 tid=bed WARN: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log
2023-11-13T19:19:20.709Z pid=5973 tid=bed WARN: /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
/opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
/opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:274:in `boot_application'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:42:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/bin/sidekiq:31:in `<top (required)>'
/opt/gitlab/embedded/bin/sidekiq:25:in `load'
/opt/gitlab/embedded/bin/sidekiq:25:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
/opt/gitlab/embedded/bin/bundle:25:in `load'
/opt/gitlab/embedded/bin/bundle:25:in `<main>'
{"severity":"INFO","time":"2023-11-13T19:19:23.304Z","message":"A worker terminated, shutting down the cluster"}
{"severity":"INFO","time":"2023-11-13T19:19:32.245Z","message":"Starting cluster with 1 processes"}
{"severity":"INFO","time":"2023-11-13T19:19:32.261Z","message":"Starting metrics server on port 8082"}
Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13T19:19:54.931Z pid=7777 tid=9kx WARN: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log
2023-11-13T19:19:54.931Z pid=7777 tid=9kx WARN: /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
/opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
/opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:274:in `boot_application'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:42:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/bin/sidekiq:31:in `<top (required)>'
/opt/gitlab/embedded/bin/sidekiq:25:in `load'
/opt/gitlab/embedded/bin/sidekiq:25:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
/opt/gitlab/embedded/bin/bundle:25:in `load'
/opt/gitlab/embedded/bin/bundle:25:in `<main>'
{"severity":"INFO","time":"2023-11-13T19:19:57.269Z","message":"A worker terminated, shutting down the cluster"}
{"severity":"INFO","time":"2023-11-13T19:20:06.222Z","message":"Starting cluster with 1 processes"}
{"severity":"INFO","time":"2023-11-13T19:20:06.239Z","message":"Starting metrics server on port 8082"}
Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13T19:20:29.125Z pid=9584 tid=2a8 WARN: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log
2023-11-13T19:20:29.125Z pid=9584 tid=2a8 WARN: /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
/opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
/opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:274:in `boot_application'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:42:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/bin/sidekiq:31:in `<top (required)>'
/opt/gitlab/embedded/bin/sidekiq:25:in `load'
/opt/gitlab/embedded/bin/sidekiq:25:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
/opt/gitlab/embedded/bin/bundle:25:in `load'
/opt/gitlab/embedded/bin/bundle:25:in `<main>'
{"severity":"INFO","time":"2023-11-13T19:20:31.246Z","message":"A worker terminated, shutting down the cluster"}
{"severity":"INFO","time":"2023-11-13T19:20:40.278Z","message":"Starting cluster with 1 processes"}
{"severity":"INFO","time":"2023-11-13T19:20:40.295Z","message":"Starting metrics server on port 8082"}
Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13T19:21:02.952Z pid=11393 tid=gx WARN: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log
2023-11-13T19:21:02.952Z pid=11393 tid=gx WARN: /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
/opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
/opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:274:in `boot_application'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:42:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/bin/sidekiq:31:in `<top (required)>'
/opt/gitlab/embedded/bin/sidekiq:25:in `load'
/opt/gitlab/embedded/bin/sidekiq:25:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
/opt/gitlab/embedded/bin/bundle:25:in `load'
/opt/gitlab/embedded/bin/bundle:25:in `<main>'
{"severity":"INFO","time":"2023-11-13T19:21:05.303Z","message":"A worker terminated, shutting down the cluster"}
{"severity":"INFO","time":"2023-11-13T19:21:14.256Z","message":"Starting cluster with 1 processes"}
{"severity":"INFO","time":"2023-11-13T19:21:14.273Z","message":"Starting metrics server on port 8082"}
Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13T19:21:35.798Z pid=13199 tid=5tb WARN: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log
2023-11-13T19:21:35.798Z pid=13199 tid=5tb WARN: /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
/opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
/opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:274:in `boot_application'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:42:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/bin/sidekiq:31:in `<top (required)>'
/opt/gitlab/embedded/bin/sidekiq:25:in `load'
/opt/gitlab/embedded/bin/sidekiq:25:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
/opt/gitlab/embedded/bin/bundle:25:in `load'
/opt/gitlab/embedded/bin/bundle:25:in `<main>'
{"severity":"INFO","time":"2023-11-13T19:21:39.280Z","message":"A worker terminated, shutting down the cluster"}
{"severity":"INFO","time":"2023-11-13T19:21:48.075Z","message":"Starting cluster with 1 processes"}
{"severity":"INFO","time":"2023-11-13T19:21:48.092Z","message":"Starting metrics server on port 8082"}
Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13T19:22:09.858Z pid=15007 tid=41r WARN: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log
2023-11-13T19:22:09.858Z pid=15007 tid=41r WARN: /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
/opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
/opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:274:in `boot_application'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:42:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/bin/sidekiq:31:in `<top (required)>'
/opt/gitlab/embedded/bin/sidekiq:25:in `load'
/opt/gitlab/embedded/bin/sidekiq:25:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
/opt/gitlab/embedded/bin/bundle:25:in `load'
/opt/gitlab/embedded/bin/bundle:25:in `<main>'
{"severity":"INFO","time":"2023-11-13T19:22:13.100Z","message":"A worker terminated, shutting down the cluster"}
{"severity":"INFO","time":"2023-11-13T19:22:21.806Z","message":"Starting cluster with 1 processes"}
{"severity":"INFO","time":"2023-11-13T19:22:21.823Z","message":"Starting metrics server on port 8082"}
Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13T19:22:43.243Z pid=16855 tid=lyv WARN: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log
2023-11-13T19:22:43.243Z pid=16855 tid=lyv WARN: /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
/opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
/opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:274:in `boot_application'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:42:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/bin/sidekiq:31:in `<top (required)>'
/opt/gitlab/embedded/bin/sidekiq:25:in `load'
/opt/gitlab/embedded/bin/sidekiq:25:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
/opt/gitlab/embedded/bin/bundle:25:in `load'
/opt/gitlab/embedded/bin/bundle:25:in `<main>'
{"severity":"INFO","time":"2023-11-13T19:22:46.831Z","message":"A worker terminated, shutting down the cluster"}
{"severity":"INFO","time":"2023-11-13T19:22:55.747Z","message":"Starting cluster with 1 processes"}
{"severity":"INFO","time":"2023-11-13T19:22:55.763Z","message":"Starting metrics server on port 8082"}
Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13T19:23:17.715Z pid=18664 tid=k5k WARN: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log
2023-11-13T19:23:17.715Z pid=18664 tid=k5k WARN: /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
/opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
/opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:274:in `boot_application'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:42:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/bin/sidekiq:31:in `<top (required)>'
/opt/gitlab/embedded/bin/sidekiq:25:in `load'
/opt/gitlab/embedded/bin/sidekiq:25:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
/opt/gitlab/embedded/bin/bundle:25:in `load'
/opt/gitlab/embedded/bin/bundle:25:in `<main>'
{"severity":"INFO","time":"2023-11-13T19:23:20.769Z","message":"A worker terminated, shutting down the cluster"}
{"severity":"INFO","time":"2023-11-13T19:23:29.771Z","message":"Starting cluster with 1 processes"}
{"severity":"INFO","time":"2023-11-13T19:23:29.789Z","message":"Starting metrics server on port 8082"}
Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13T19:23:51.102Z pid=20480 tid=p28 WARN: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log
2023-11-13T19:23:51.102Z pid=20480 tid=p28 WARN: /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
/opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
/opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:274:in `boot_application'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:42:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/bin/sidekiq:31:in `<top (required)>'
/opt/gitlab/embedded/bin/sidekiq:25:in `load'
/opt/gitlab/embedded/bin/sidekiq:25:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
/opt/gitlab/embedded/bin/bundle:25:in `load'
/opt/gitlab/embedded/bin/bundle:25:in `<main>'
{"severity":"INFO","time":"2023-11-13T19:23:54.795Z","message":"A worker terminated, shutting down the cluster"}
{"severity":"INFO","time":"2023-11-13T19:24:03.559Z","message":"Starting cluster with 1 processes"}
{"severity":"INFO","time":"2023-11-13T19:24:03.575Z","message":"Starting metrics server on port 8082"}
Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13T19:24:25.125Z pid=22312 tid=o20 WARN: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log
2023-11-13T19:24:25.126Z pid=22312 tid=o20 WARN: /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
/opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
/opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
/opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
/opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
/opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
<internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:274:in `boot_application'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/lib/sidekiq/cli.rb:42:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/sidekiq-6.5.7/bin/sidekiq:31:in `<top (required)>'
/opt/gitlab/embedded/bin/sidekiq:25:in `load'
/opt/gitlab/embedded/bin/sidekiq:25:in `<top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
/opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
/opt/gitlab/embedded/bin/bundle:25:in `load'
/opt/gitlab/embedded/bin/bundle:25:in `<main>'
{"severity":"INFO","time":"2023-11-13T19:24:28.581Z","message":"A worker terminated, shutting down the cluster"}
{"severity":"INFO","time":"2023-11-13T19:24:37.290Z","message":"Starting cluster with 1 processes"}
{"severity":"INFO","time":"2023-11-13T19:24:37.306Z","message":"Starting metrics server on port 8082"}
