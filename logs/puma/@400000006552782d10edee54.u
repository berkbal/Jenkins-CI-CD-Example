2023-11-13_19:17:10.31121 {"timestamp":"2023-11-13T19:17:10.296Z","pid":823,"message":"Puma starting in cluster mode..."}
2023-11-13_19:17:10.31139 {"timestamp":"2023-11-13T19:17:10.311Z","pid":823,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:17:10.31139 {"timestamp":"2023-11-13T19:17:10.311Z","pid":823,"message":"*  Min threads: 4"}
2023-11-13_19:17:10.31140 {"timestamp":"2023-11-13T19:17:10.311Z","pid":823,"message":"*  Max threads: 4"}
2023-11-13_19:17:10.31140 {"timestamp":"2023-11-13T19:17:10.311Z","pid":823,"message":"*  Environment: production"}
2023-11-13_19:17:10.31144 {"timestamp":"2023-11-13T19:17:10.311Z","pid":823,"message":"*   Master PID: 823"}
2023-11-13_19:17:10.31148 {"timestamp":"2023-11-13T19:17:10.311Z","pid":823,"message":"*      Workers: 14"}
2023-11-13_19:17:10.31154 {"timestamp":"2023-11-13T19:17:10.311Z","pid":823,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:17:10.31158 {"timestamp":"2023-11-13T19:17:10.311Z","pid":823,"message":"* Preloading application"}
2023-11-13_19:17:30.95956 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:17:32.36425 {"timestamp":"2023-11-13T19:17:32.364Z","pid":823,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:17:32.36441 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:17:32.36465 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:17:32.36465 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:17:32.36466 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:17:32.36467 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:17:32.36468 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:17:32.36469 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:17:32.36470 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:17:32.36471 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:17:32.36471 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:17:32.36472 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:17:32.36473 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:17:32.36474 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:17:32.36474 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:17:32.36475 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:17:32.36476 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:17:32.36476 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:17:32.36478 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:17:32.36479 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:17:32.36480 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:17:32.36483 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:17:32.36483 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:17:32.36484 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:17:32.36484 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:17:32.36485 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:17:32.36485 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:17:32.36487 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:17:32.36487 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:17:32.36488 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:17:32.36488 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:17:32.36488 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:17:32.36489 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:17:32.36489 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:17:32.36490 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:17:32.36491 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:17:32.36492 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:17:32.36492 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:17:32.36493 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:17:32.36493 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:17:32.36494 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:17:32.36494 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:17:32.36495 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:17:32.36495 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:17:32.36496 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:17:32.36497 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:17:32.36498 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:17:32.36498 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:17:32.36498 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:17:32.36499 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:17:32.36499 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:17:32.36501 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:17:32.36501 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:17:32.36501 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:17:32.36502 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:17:32.36502 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:17:32.36504 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:17:32.36504 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:17:32.36505 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:17:32.36505 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:17:32.36506 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:17:32.36506 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:17:32.36506 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:17:32.36507 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:17:32.36507 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:17:32.36508 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:17:32.36509 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:17:32.36510 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:17:32.36510 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:17:32.36511 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:17:32.36511 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:17:32.36511 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:17:32.36512 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:17:32.36512 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:17:32.36513 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:17:32.36513 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:17:32.36514 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:17:32.36515 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:17:32.36516 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:17:32.36516 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:17:32.36517 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:17:32.36517 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:17:32.36518 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:17:32.36519 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:17:32.36519 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:17:32.36520 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:17:32.36521 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:17:32.36522 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:17:32.36522 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:17:32.36523 
2023-11-13_19:17:32.36523 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:17:32.36523 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:17:32.36524 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:17:32.36524 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:17:32.36525 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:17:32.36529 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:17:32.36530 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:17:32.36530 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:17:32.36531 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:17:32.36531 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:17:32.36532 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:17:32.36533 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:17:32.36534 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:17:32.36534 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:17:32.36535 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:17:32.36535 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:17:32.36536 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:17:32.36536 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:17:32.36538 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:17:32.36539 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:17:32.36540 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:17:32.36540 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:17:32.36540 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:17:32.36541 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:17:32.36541 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:17:32.36542 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:17:32.36543 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:17:32.36544 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:17:32.36544 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:17:32.36545 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:17:32.36545 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:17:32.36546 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:17:32.36546 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:17:32.36546 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:17:32.36547 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:17:32.36548 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:17:32.36549 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:17:32.36549 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:17:32.36550 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:17:32.36550 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:17:32.36551 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:17:32.36551 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:17:32.36552 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:17:32.36552 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:17:32.36554 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:17:32.36554 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:17:32.36555 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:17:32.36556 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:17:32.36556 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:17:32.36557 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:17:32.36557 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:17:32.36558 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:17:32.36558 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:17:32.36558 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:17:32.36560 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:17:32.36561 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:17:32.36561 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:17:32.36562 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:17:32.36562 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:17:32.36562 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:17:32.36563 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:17:32.36563 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:17:32.36564 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:17:32.36564 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:17:32.36565 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:17:32.36566 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:17:32.36567 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:17:32.36567 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:17:32.36567 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:17:32.36568 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:17:32.36568 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:17:32.36569 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:17:32.36569 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:17:32.36570 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:17:32.36570 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:17:32.36572 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:17:32.36572 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:17:32.36573 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:17:32.36573 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:17:32.36573 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:17:32.36574 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:17:32.36575 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:17:32.36575 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:17:32.36576 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:17:32.36576 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:17:32.36577 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:17:32.36578 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:17:32.36579 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:17:32.36579 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:17:32.36580 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:17:32.36580 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:17:32.36581 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:17:32.36581 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:17:32.36581 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:17:32.36582 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:17:32.36584 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:17:32.36584 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:17:32.36584 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:17:32.36585 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:17:32.36585 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:17:32.36586 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:17:32.36586 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:17:32.36587 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:17:32.36588 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:17:32.36589 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:17:32.36589 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:17:32.36590 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:17:32.36590 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:17:32.36593 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:17:32.36594 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:17:32.36595 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:17:32.36595 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:17:32.36596 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:17:32.36596 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:17:32.36597 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:17:32.36597 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:17:32.36597 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:17:32.36599 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:17:32.36600 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:17:32.36600 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:17:32.36600 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:17:32.36601 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:17:32.36601 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:17:32.36602 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:17:32.36602 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:17:32.36604 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:17:32.36604 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:17:32.36605 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:17:32.36605 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:17:32.36606 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:17:32.36606 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:17:32.36607 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:17:32.36607 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:17:32.36608 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:17:32.36609 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:17:32.36610 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:17:32.36611 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:17:32.36611 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:17:32.36612 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:17:32.36612 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:17:32.36613 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:17:32.36613 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:17:32.36614 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:17:32.36615 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:17:32.36616 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:17:32.36616 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:17:32.36616 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:17:32.36617 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:17:32.36617 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:17:32.36618 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:17:32.36618 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:17:32.36619 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:17:32.36619 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:17:32.36621 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:17:32.36621 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:17:32.36621 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:17:32.36622 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:17:32.36622 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:17:32.36623 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:17:32.36623 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:17:32.36623 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:17:32.36624 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:17:32.36624 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:17:32.36625 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:17:32.36627 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:17:32.36627 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:17:32.36627 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:17:32.36629 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:17:32.36629 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:17:32.36630 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:17:32.36630 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:17:32.36630 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:17:32.36631 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:17:32.36631 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:17:32.36633 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:17:32.36633 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:17:32.36634 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:17:32.36634 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:17:32.36634 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:17:32.36635 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:17:32.36635 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:17:32.36636 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:17:32.36636 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:17:32.36637 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:17:32.36638 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:17:32.36639 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:17:32.36639 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:17:32.36640 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:17:32.36640 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:17:32.36641 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:17:32.36641 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:17:32.36642 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:17:35.39450 {"timestamp":"2023-11-13T19:17:35.379Z","pid":1565,"message":"Puma starting in cluster mode..."}
2023-11-13_19:17:35.39455 {"timestamp":"2023-11-13T19:17:35.394Z","pid":1565,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:17:35.39461 {"timestamp":"2023-11-13T19:17:35.394Z","pid":1565,"message":"*  Min threads: 4"}
2023-11-13_19:17:35.39465 {"timestamp":"2023-11-13T19:17:35.394Z","pid":1565,"message":"*  Max threads: 4"}
2023-11-13_19:17:35.39469 {"timestamp":"2023-11-13T19:17:35.394Z","pid":1565,"message":"*  Environment: production"}
2023-11-13_19:17:35.39473 {"timestamp":"2023-11-13T19:17:35.394Z","pid":1565,"message":"*   Master PID: 1565"}
2023-11-13_19:17:35.39477 {"timestamp":"2023-11-13T19:17:35.394Z","pid":1565,"message":"*      Workers: 14"}
2023-11-13_19:17:35.39483 {"timestamp":"2023-11-13T19:17:35.394Z","pid":1565,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:17:35.39487 {"timestamp":"2023-11-13T19:17:35.394Z","pid":1565,"message":"* Preloading application"}
2023-11-13_19:17:54.43063 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:17:55.57954 {"timestamp":"2023-11-13T19:17:55.579Z","pid":1565,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:17:55.57971 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:17:55.57995 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:17:55.57996 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:17:55.57996 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:17:55.57997 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:17:55.57997 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:17:55.57997 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:17:55.57997 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:17:55.57998 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:17:55.57998 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:17:55.57998 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:17:55.57999 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:17:55.57999 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:17:55.58000 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:17:55.58000 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:17:55.58000 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:17:55.58000 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:17:55.58001 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:17:55.58001 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:17:55.58001 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:17:55.58002 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:17:55.58002 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:17:55.58003 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:17:55.58003 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:17:55.58003 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:17:55.58004 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:17:55.58005 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:17:55.58005 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:17:55.58005 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:17:55.58006 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:17:55.58006 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:17:55.58007 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:17:55.58007 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:17:55.58007 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:17:55.58007 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:17:55.58007 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:17:55.58007 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:17:55.58008 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:17:55.58008 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:17:55.58008 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:17:55.58009 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:17:55.58009 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:17:55.58009 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:17:55.58009 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:17:55.58009 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:17:55.58009 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:17:55.58010 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:17:55.58010 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:17:55.58010 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:17:55.58010 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:17:55.58011 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:17:55.58011 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:17:55.58011 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:17:55.58011 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:17:55.58011 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:17:55.58012 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:17:55.58012 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:17:55.58012 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:17:55.58013 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:17:55.58013 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:17:55.58013 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:17:55.58014 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:17:55.58014 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:17:55.58014 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:17:55.58014 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:17:55.58014 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:17:55.58014 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:17:55.58015 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:17:55.58015 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:17:55.58015 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:17:55.58015 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:17:55.58016 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:17:55.58016 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:17:55.58016 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:17:55.58016 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:17:55.58016 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:17:55.58017 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:17:55.58017 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:17:55.58017 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:17:55.58017 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:17:55.58017 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:17:55.58018 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:17:55.58018 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:17:55.58018 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:17:55.58019 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:17:55.58019 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:17:55.58019 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:17:55.58020 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:17:55.58020 
2023-11-13_19:17:55.58020 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:17:55.58021 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:17:55.58021 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:17:55.58021 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:17:55.58022 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:17:55.58022 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:17:55.58022 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:17:55.58022 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:17:55.58022 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:17:55.58023 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:17:55.58023 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:17:55.58023 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:17:55.58024 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:17:55.58024 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:17:55.58024 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:17:55.58024 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:17:55.58024 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:17:55.58025 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:17:55.58025 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:17:55.58025 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:17:55.58026 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:17:55.58026 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:17:55.58026 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:17:55.58026 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:17:55.58026 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:17:55.58027 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:17:55.58027 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:17:55.58028 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:17:55.58028 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:17:55.58028 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:17:55.58028 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:17:55.58028 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:17:55.58029 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:17:55.58029 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:17:55.58029 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:17:55.58030 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:17:55.58030 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:17:55.58030 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:17:55.58030 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:17:55.58030 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:17:55.58030 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:17:55.58031 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:17:55.58031 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:17:55.58031 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:17:55.58032 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:17:55.58032 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:17:55.58032 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:17:55.58032 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:17:55.58032 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:17:55.58033 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:17:55.58033 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:17:55.58033 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:17:55.58033 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:17:55.58034 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:17:55.58034 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:17:55.58034 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:17:55.58035 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:17:55.58035 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:17:55.58035 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:17:55.58035 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:17:55.58035 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:17:55.58035 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:17:55.58036 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:17:55.58036 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:17:55.58036 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:17:55.58037 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:17:55.58037 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:17:55.58037 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:17:55.58037 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:17:55.58037 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:17:55.58037 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:17:55.58038 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:17:55.58038 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:17:55.58038 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:17:55.58039 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:17:55.58039 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:17:55.58039 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:17:55.58039 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:17:55.58039 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:17:55.58039 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:17:55.58040 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:17:55.58040 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:17:55.58040 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:17:55.58040 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:17:55.58041 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:17:55.58041 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:17:55.58041 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:17:55.58042 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:17:55.58042 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:17:55.58042 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:17:55.58042 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:17:55.58042 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:17:55.58042 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:17:55.58043 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:17:55.58043 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:17:55.58044 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:17:55.58044 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:17:55.58044 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:17:55.58045 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:17:55.58045 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:17:55.58045 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:17:55.58045 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:17:55.58045 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:17:55.58046 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:17:55.58046 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:17:55.58046 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:17:55.58047 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:17:55.58047 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:17:55.58047 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:17:55.58047 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:17:55.58048 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:17:55.58048 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:17:55.58048 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:17:55.58049 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:17:55.58050 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:17:55.58050 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:17:55.58050 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:17:55.58051 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:17:55.58051 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:17:55.58051 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:17:55.58051 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:17:55.58051 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:17:55.58051 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:17:55.58052 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:17:55.58052 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:17:55.58053 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:17:55.58053 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:17:55.58053 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:17:55.58053 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:17:55.58053 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:17:55.58053 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:17:55.58054 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:17:55.58054 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:17:55.58054 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:17:55.58054 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:17:55.58055 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:17:55.58055 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:17:55.58055 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:17:55.58055 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:17:55.58055 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:17:55.58056 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:17:55.58056 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:17:55.58056 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:17:55.58057 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:17:55.58057 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:17:55.58057 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:17:55.58058 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:17:55.58058 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:17:55.58058 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:17:55.58058 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:17:55.58058 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:17:55.58058 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:17:55.58059 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:17:55.58059 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:17:55.58059 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:17:55.58060 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:17:55.58060 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:17:55.58060 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:17:55.58060 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:17:55.58060 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:17:55.58060 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:17:55.58061 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:17:55.58061 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:17:55.58061 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:17:55.58061 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:17:55.58062 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:17:55.58062 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:17:55.58062 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:17:55.58062 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:17:55.58062 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:17:55.58063 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:17:55.58063 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:17:55.58063 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:17:55.58063 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:17:55.58064 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:17:55.58064 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:17:55.58064 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:17:55.58064 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:17:55.58065 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:17:55.58065 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:17:55.58065 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:17:55.58065 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:17:55.58065 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:17:55.58066 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:17:55.58066 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:17:55.58066 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:17:55.58067 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:17:55.58067 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:17:55.58067 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:17:55.58067 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:17:55.58067 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:17:55.58067 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:17:58.59434 {"timestamp":"2023-11-13T19:17:58.578Z","pid":2656,"message":"Puma starting in cluster mode..."}
2023-11-13_19:17:58.59439 {"timestamp":"2023-11-13T19:17:58.594Z","pid":2656,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:17:58.59444 {"timestamp":"2023-11-13T19:17:58.594Z","pid":2656,"message":"*  Min threads: 4"}
2023-11-13_19:17:58.59448 {"timestamp":"2023-11-13T19:17:58.594Z","pid":2656,"message":"*  Max threads: 4"}
2023-11-13_19:17:58.59453 {"timestamp":"2023-11-13T19:17:58.594Z","pid":2656,"message":"*  Environment: production"}
2023-11-13_19:17:58.59457 {"timestamp":"2023-11-13T19:17:58.594Z","pid":2656,"message":"*   Master PID: 2656"}
2023-11-13_19:17:58.59461 {"timestamp":"2023-11-13T19:17:58.594Z","pid":2656,"message":"*      Workers: 14"}
2023-11-13_19:17:58.59466 {"timestamp":"2023-11-13T19:17:58.594Z","pid":2656,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:17:58.59470 {"timestamp":"2023-11-13T19:17:58.594Z","pid":2656,"message":"* Preloading application"}
2023-11-13_19:18:17.55398 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:18:18.65651 {"timestamp":"2023-11-13T19:18:18.656Z","pid":2656,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:18:18.65672 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:18:18.65700 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:18:18.65701 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:18:18.65701 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:18:18.65702 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:18:18.65702 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:18:18.65702 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:18:18.65703 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:18:18.65704 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:18:18.65704 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:18:18.65705 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:18:18.65705 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:18:18.65705 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:18:18.65705 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:18:18.65706 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:18:18.65706 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:18:18.65706 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:18:18.65707 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:18:18.65708 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:18:18.65708 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:18:18.65708 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:18:18.65709 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:18:18.65709 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:18:18.65709 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:18:18.65710 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:18:18.65710 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:18:18.65710 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:18:18.65711 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:18:18.65712 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:18:18.65712 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:18:18.65712 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:18:18.65713 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:18:18.65714 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:18:18.65714 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:18:18.65714 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:18:18.65715 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:18:18.65716 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:18:18.65716 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:18:18.65716 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:18:18.65717 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:18:18.65717 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:18:18.65717 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:18:18.65717 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:18:18.65718 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:18:18.65718 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:18:18.65719 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:18:18.65720 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:18:18.65720 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:18:18.65721 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:18:18.65721 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:18:18.65721 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:18:18.65722 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:18:18.65722 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:18:18.65722 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:18:18.65723 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:18:18.65723 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:18:18.65723 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:18:18.65724 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:18:18.65725 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:18:18.65725 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:18:18.65725 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:18:18.65726 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:18:18.65726 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:18:18.65726 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:18:18.65727 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:18:18.65728 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:18:18.65729 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:18:18.65729 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:18:18.65729 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:18:18.65730 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:18:18.65730 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:18:18.65730 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:18:18.65731 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:18:18.65731 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:18:18.65731 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:18:18.65732 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:18:18.65732 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:18:18.65733 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:18:18.65734 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:18:18.65734 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:18:18.65734 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:18:18.65734 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:18:18.65735 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:18:18.65735 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:18:18.65735 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:18:18.65736 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:18:18.65736 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:18:18.65737 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:18:18.65737 
2023-11-13_19:18:18.65738 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:18:18.65738 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:18:18.65738 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:18:18.65739 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:18:18.65739 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:18:18.65740 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:18:18.65741 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:18:18.65741 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:18:18.65741 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:18:18.65742 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:18:18.65742 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:18:18.65743 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:18:18.65743 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:18:18.65744 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:18:18.65744 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:18:18.65744 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:18:18.65745 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:18:18.65745 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:18:18.65745 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:18:18.65747 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:18:18.65747 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:18:18.65747 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:18:18.65748 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:18:18.65748 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:18:18.65748 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:18:18.65748 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:18:18.65749 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:18:18.65750 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:18:18.65750 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:18:18.65750 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:18:18.65751 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:18:18.65752 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:18:18.65752 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:18:18.65752 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:18:18.65753 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:18:18.65753 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:18:18.65753 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:18:18.65755 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:18:18.65755 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:18:18.65755 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:18:18.65756 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:18:18.65756 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:18:18.65756 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:18:18.65757 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:18:18.65757 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:18:18.65758 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:18:18.65758 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:18:18.65759 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:18:18.65759 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:18:18.65759 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:18:18.65760 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:18:18.65760 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:18:18.65760 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:18:18.65760 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:18:18.65761 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:18:18.65762 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:18:18.65762 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:18:18.65762 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:18:18.65763 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:18:18.65763 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:18:18.65763 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:18:18.65764 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:18:18.65765 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:18:18.65765 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:18:18.65765 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:18:18.65766 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:18:18.65767 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:18:18.65767 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:18:18.65767 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:18:18.65768 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:18:18.65768 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:18:18.65768 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:18:18.65769 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:18:18.65769 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:18:18.65769 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:18:18.65770 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:18:18.65770 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:18:18.65771 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:18:18.65771 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:18:18.65771 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:18:18.65772 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:18:18.65772 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:18:18.65772 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:18:18.65773 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:18:18.65773 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:18:18.65773 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:18:18.65774 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:18:18.65775 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:18:18.65775 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:18:18.65775 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:18:18.65776 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:18:18.65776 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:18:18.65776 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:18:18.65777 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:18:18.65794 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:18:18.65794 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:18:18.65795 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:18:18.65796 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:18:18.65796 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:18:18.65796 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:18:18.65797 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:18:18.65797 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:18:18.65798 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:18:18.65798 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:18:18.65799 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:18:18.65799 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:18:18.65800 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:18:18.65800 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:18:18.65800 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:18:18.65801 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:18:18.65802 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:18:18.65802 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:18:18.65802 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:18:18.65803 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:18:18.65803 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:18:18.65803 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:18:18.65804 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:18:18.65804 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:18:18.65805 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:18:18.65806 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:18:18.65807 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:18:18.65807 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:18:18.65807 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:18:18.65808 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:18:18.65808 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:18:18.65808 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:18:18.65809 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:18:18.65810 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:18:18.65810 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:18:18.65810 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:18:18.65811 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:18:18.65811 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:18:18.65811 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:18:18.65812 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:18:18.65812 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:18:18.65813 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:18:18.65813 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:18:18.65814 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:18:18.65814 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:18:18.65814 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:18:18.65815 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:18:18.65815 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:18:18.65816 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:18:18.65816 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:18:18.65817 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:18:18.65817 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:18:18.65818 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:18:18.65818 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:18:18.65819 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:18:18.65820 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:18:18.65820 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:18:18.65820 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:18:18.65821 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:18:18.65821 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:18:18.65822 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:18:18.65822 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:18:18.65823 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:18:18.65823 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:18:18.65823 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:18:18.65824 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:18:18.65824 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:18:18.65824 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:18:18.65825 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:18:18.65825 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:18:18.65825 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:18:18.65827 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:18:18.65827 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:18:18.65827 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:18:18.65828 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:18:18.65828 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:18:18.65828 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:18:18.65829 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:18:18.65829 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:18:18.65829 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:18:18.65830 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:18:18.65830 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:18:18.65831 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:18:18.65832 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:18:18.65832 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:18:18.65832 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:18:18.65833 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:18:18.65833 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:18:18.65834 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:18:18.65834 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:18:18.65835 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:18:18.65835 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:18:18.65836 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:18:18.65837 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:18:18.65837 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:18:18.65837 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:18:18.65838 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:18:18.65838 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:18:21.54435 {"timestamp":"2023-11-13T19:18:21.525Z","pid":3886,"message":"Puma starting in cluster mode..."}
2023-11-13_19:18:21.54444 {"timestamp":"2023-11-13T19:18:21.544Z","pid":3886,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:18:21.54449 {"timestamp":"2023-11-13T19:18:21.544Z","pid":3886,"message":"*  Min threads: 4"}
2023-11-13_19:18:21.54453 {"timestamp":"2023-11-13T19:18:21.544Z","pid":3886,"message":"*  Max threads: 4"}
2023-11-13_19:18:21.54458 {"timestamp":"2023-11-13T19:18:21.544Z","pid":3886,"message":"*  Environment: production"}
2023-11-13_19:18:21.54465 {"timestamp":"2023-11-13T19:18:21.544Z","pid":3886,"message":"*   Master PID: 3886"}
2023-11-13_19:18:21.54469 {"timestamp":"2023-11-13T19:18:21.544Z","pid":3886,"message":"*      Workers: 14"}
2023-11-13_19:18:21.54476 {"timestamp":"2023-11-13T19:18:21.544Z","pid":3886,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:18:21.54481 {"timestamp":"2023-11-13T19:18:21.544Z","pid":3886,"message":"* Preloading application"}
2023-11-13_19:18:40.39899 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:18:41.76742 {"timestamp":"2023-11-13T19:18:41.767Z","pid":3886,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:18:41.76760 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:18:41.76783 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:18:41.76784 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:18:41.76785 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:18:41.76786 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:18:41.76786 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:18:41.76786 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:18:41.76787 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:18:41.76787 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:18:41.76790 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:18:41.76790 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:18:41.76790 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:18:41.76791 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:18:41.76791 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:18:41.76791 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:18:41.76792 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:18:41.76792 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:18:41.76792 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:18:41.76793 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:18:41.76794 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:18:41.76794 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:18:41.76794 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:18:41.76795 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:18:41.76795 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:18:41.76795 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:18:41.76796 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:18:41.76796 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:18:41.76796 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:18:41.76797 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:18:41.76798 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:18:41.76798 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:18:41.76798 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:18:41.76799 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:18:41.76799 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:18:41.76799 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:18:41.76800 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:18:41.76800 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:18:41.76801 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:18:41.76802 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:18:41.76803 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:18:41.76803 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:18:41.76803 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:18:41.76804 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:18:41.76804 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:18:41.76804 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:18:41.76805 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:18:41.76806 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:18:41.76806 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:18:41.76806 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:18:41.76807 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:18:41.76807 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:18:41.76807 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:18:41.76808 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:18:41.76808 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:18:41.76808 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:18:41.76809 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:18:41.76809 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:18:41.76809 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:18:41.76810 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:18:41.76811 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:18:41.76811 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:18:41.76811 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:18:41.76812 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:18:41.76812 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:18:41.76812 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:18:41.76813 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:18:41.76813 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:18:41.76813 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:18:41.76814 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:18:41.76815 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:18:41.76815 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:18:41.76815 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:18:41.76816 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:18:41.76816 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:18:41.76817 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:18:41.76817 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:18:41.76817 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:18:41.76818 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:18:41.76819 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:18:41.76819 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:18:41.76819 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:18:41.76820 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:18:41.76820 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:18:41.76820 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:18:41.76821 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:18:41.76821 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:18:41.76821 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:18:41.76821 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:18:41.76823 
2023-11-13_19:18:41.76823 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:18:41.76823 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:18:41.76823 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:18:41.76824 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:18:41.76824 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:18:41.76824 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:18:41.76825 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:18:41.76826 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:18:41.76826 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:18:41.76827 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:18:41.76827 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:18:41.76828 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:18:41.76828 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:18:41.76829 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:18:41.76829 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:18:41.76830 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:18:41.76830 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:18:41.76830 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:18:41.76831 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:18:41.76831 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:18:41.76832 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:18:41.76832 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:18:41.76833 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:18:41.76833 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:18:41.76833 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:18:41.76834 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:18:41.76834 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:18:41.76834 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:18:41.76835 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:18:41.76836 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:18:41.76836 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:18:41.76836 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:18:41.76837 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:18:41.76837 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:18:41.76838 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:18:41.76838 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:18:41.76838 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:18:41.76840 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:18:41.76841 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:18:41.76841 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:18:41.76841 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:18:41.76842 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:18:41.76842 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:18:41.76842 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:18:41.76843 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:18:41.76843 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:18:41.76843 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:18:41.76844 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:18:41.76845 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:18:41.76845 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:18:41.76845 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:18:41.76846 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:18:41.76846 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:18:41.76846 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:18:41.76847 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:18:41.76847 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:18:41.76847 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:18:41.76848 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:18:41.76849 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:18:41.76849 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:18:41.76849 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:18:41.76850 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:18:41.76850 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:18:41.76850 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:18:41.76850 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:18:41.76851 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:18:41.76851 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:18:41.76851 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:18:41.76852 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:18:41.76853 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:18:41.76854 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:18:41.76854 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:18:41.76854 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:18:41.76855 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:18:41.76855 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:18:41.76855 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:18:41.76856 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:18:41.76856 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:18:41.76857 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:18:41.76857 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:18:41.76858 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:18:41.76858 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:18:41.76858 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:18:41.76860 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:18:41.76860 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:18:41.76861 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:18:41.76861 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:18:41.76861 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:18:41.76862 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:18:41.76863 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:18:41.76863 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:18:41.76863 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:18:41.76864 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:18:41.76864 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:18:41.76864 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:18:41.76865 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:18:41.76865 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:18:41.76865 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:18:41.76866 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:18:41.76867 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:18:41.76868 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:18:41.76868 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:18:41.76868 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:18:41.76869 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:18:41.76869 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:18:41.76870 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:18:41.76870 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:18:41.76871 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:18:41.76871 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:18:41.76872 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:18:41.76872 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:18:41.76873 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:18:41.76873 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:18:41.76874 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:18:41.76874 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:18:41.76874 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:18:41.76875 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:18:41.76875 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:18:41.76875 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:18:41.76876 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:18:41.76877 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:18:41.76877 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:18:41.76877 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:18:41.76878 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:18:41.76878 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:18:41.76879 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:18:41.76879 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:18:41.76880 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:18:41.76881 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:18:41.76881 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:18:41.76881 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:18:41.76882 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:18:41.76882 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:18:41.76882 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:18:41.76883 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:18:41.76883 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:18:41.76884 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:18:41.76884 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:18:41.76885 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:18:41.76885 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:18:41.76885 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:18:41.76886 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:18:41.76886 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:18:41.76886 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:18:41.76887 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:18:41.76888 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:18:41.76888 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:18:41.76888 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:18:41.76889 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:18:41.76889 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:18:41.76889 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:18:41.76890 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:18:41.76890 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:18:41.76890 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:18:41.76891 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:18:41.76892 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:18:41.76893 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:18:41.76893 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:18:41.76893 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:18:41.76894 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:18:41.76894 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:18:41.76894 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:18:41.76895 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:18:41.76895 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:18:41.76895 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:18:41.76896 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:18:41.76896 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:18:41.76897 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:18:41.76897 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:18:41.76898 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:18:41.76898 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:18:41.76898 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:18:41.76899 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:18:41.76899 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:18:41.76899 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:18:41.76900 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:18:41.76900 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:18:41.76900 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:18:41.76901 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:18:41.76902 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:18:41.76902 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:18:41.76902 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:18:41.76903 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:18:41.76903 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:18:41.76903 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:18:41.76904 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:18:41.76904 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:18:41.76905 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:18:41.76906 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:18:41.76907 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:18:41.76907 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:18:41.76907 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:18:44.75210 {"timestamp":"2023-11-13T19:18:44.736Z","pid":5116,"message":"Puma starting in cluster mode..."}
2023-11-13_19:18:44.75218 {"timestamp":"2023-11-13T19:18:44.752Z","pid":5116,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:18:44.75223 {"timestamp":"2023-11-13T19:18:44.752Z","pid":5116,"message":"*  Min threads: 4"}
2023-11-13_19:18:44.75228 {"timestamp":"2023-11-13T19:18:44.752Z","pid":5116,"message":"*  Max threads: 4"}
2023-11-13_19:18:44.75232 {"timestamp":"2023-11-13T19:18:44.752Z","pid":5116,"message":"*  Environment: production"}
2023-11-13_19:18:44.75237 {"timestamp":"2023-11-13T19:18:44.752Z","pid":5116,"message":"*   Master PID: 5116"}
2023-11-13_19:18:44.75241 {"timestamp":"2023-11-13T19:18:44.752Z","pid":5116,"message":"*      Workers: 14"}
2023-11-13_19:18:44.75247 {"timestamp":"2023-11-13T19:18:44.752Z","pid":5116,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:18:44.75250 {"timestamp":"2023-11-13T19:18:44.752Z","pid":5116,"message":"* Preloading application"}
2023-11-13_19:19:03.55823 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:19:04.69530 {"timestamp":"2023-11-13T19:19:04.695Z","pid":5116,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:19:04.69545 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:19:04.69569 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:19:04.69570 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:19:04.69571 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:19:04.69572 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:19:04.69574 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:19:04.69575 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:19:04.69576 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:19:04.69577 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:19:04.69578 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:19:04.69579 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:19:04.69580 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:19:04.69582 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:19:04.69583 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:19:04.69584 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:19:04.69585 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:19:04.69590 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:19:04.69591 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:19:04.69592 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:19:04.69592 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:19:04.69593 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:19:04.69594 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:19:04.69595 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:19:04.69596 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:19:04.69596 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:19:04.69599 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:19:04.69600 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:19:04.69600 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:19:04.69601 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:19:04.69602 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:19:04.69603 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:19:04.69604 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:19:04.69605 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:19:04.69605 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:19:04.69608 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:19:04.69608 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:19:04.69609 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:19:04.69610 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:19:04.69611 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:19:04.69612 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:19:04.69612 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:19:04.69613 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:19:04.69614 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:19:04.69616 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:19:04.69617 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:19:04.69619 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:19:04.69620 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:19:04.69621 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:19:04.69621 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:19:04.69622 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:19:04.69623 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:19:04.69624 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:19:04.69624 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:19:04.69625 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:19:04.69627 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:19:04.69628 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:19:04.69629 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:04.69630 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:04.69631 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:19:04.69631 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:19:04.69632 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:19:04.69633 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:19:04.69634 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:19:04.69634 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:19:04.69637 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:19:04.69638 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:19:04.69639 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:19:04.69639 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:19:04.69640 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:19:04.69641 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:19:04.69642 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:19:04.69643 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:19:04.69643 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:19:04.69644 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:19:04.69645 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:19:04.69647 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:19:04.69648 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:19:04.69649 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:19:04.69651 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:19:04.69652 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:19:04.69652 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:19:04.69653 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:19:04.69654 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:19:04.69655 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:19:04.69657 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:19:04.69658 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:19:04.69659 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:19:04.69659 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:19:04.69660 
2023-11-13_19:19:04.69661 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:19:04.69662 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:19:04.69663 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:19:04.69663 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:19:04.69666 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:19:04.69667 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:19:04.69668 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:19:04.69669 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:19:04.69670 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:19:04.69670 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:19:04.69673 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:19:04.69674 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:19:04.69675 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:19:04.69675 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:19:04.69676 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:19:04.69678 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:19:04.69679 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:19:04.69682 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:19:04.69683 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:19:04.69683 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:19:04.69684 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:19:04.69685 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:19:04.69686 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:19:04.69687 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:19:04.69687 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:19:04.69688 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:19:04.69691 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:19:04.69691 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:19:04.69692 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:19:04.69693 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:19:04.69694 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:19:04.69694 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:19:04.69695 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:19:04.69696 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:19:04.69697 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:19:04.69699 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:19:04.69700 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:19:04.69701 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:19:04.69702 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:19:04.69702 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:19:04.69703 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:19:04.69704 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:19:04.69705 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:19:04.69708 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:19:04.69709 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:19:04.69710 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:19:04.69711 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:19:04.69711 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:19:04.69712 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:19:04.69713 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:19:04.69714 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:19:04.69714 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:19:04.69715 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:19:04.69718 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:19:04.69719 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:19:04.69720 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:19:04.69720 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:19:04.69721 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:19:04.69722 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:19:04.69723 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:19:04.69723 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:19:04.69724 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:19:04.69725 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:19:04.69726 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:04.69728 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:04.69729 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:19:04.69730 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:19:04.69730 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:19:04.69731 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:19:04.69732 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:19:04.69733 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:19:04.69733 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:19:04.69734 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:19:04.69735 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:19:04.69737 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:19:04.69738 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:19:04.69740 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:19:04.69741 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:19:04.69741 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:19:04.69742 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:19:04.69743 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:19:04.69744 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:19:04.69745 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:19:04.69745 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:19:04.69746 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:19:04.69749 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:19:04.69750 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:19:04.69750 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:19:04.69751 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:19:04.69752 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:19:04.69753 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:19:04.69753 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:19:04.69754 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:19:04.69755 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:19:04.69756 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:19:04.69758 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:19:04.69759 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:19:04.69760 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:19:04.69761 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:19:04.69761 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:19:04.69762 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:19:04.69763 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:19:04.69764 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:19:04.69767 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:19:04.69768 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:19:04.69770 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:19:04.69771 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:19:04.69771 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:19:04.69772 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:19:04.69775 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:19:04.69776 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:19:04.69776 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:19:04.69777 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:19:04.69778 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:19:04.69779 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:19:04.69780 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:19:04.69782 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:19:04.69783 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:19:04.69784 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:19:04.69784 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:19:04.69785 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:19:04.69786 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:19:04.69787 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:19:04.69788 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:19:04.69788 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:19:04.69791 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:19:04.69792 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:19:04.69793 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:19:04.69794 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:19:04.69794 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:19:04.69795 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:19:04.69798 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:19:04.69798 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:19:04.69801 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:19:04.69802 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:19:04.69802 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:19:04.69803 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:19:04.69804 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:19:04.69805 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:19:04.69806 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:19:04.69807 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:19:04.69807 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:19:04.69810 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:19:04.69811 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:19:04.69811 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:19:04.69812 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:19:04.69813 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:19:04.69814 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:19:04.69814 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:19:04.69815 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:19:04.69816 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:19:04.69817 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:19:04.69819 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:19:04.69820 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:19:04.69821 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:19:04.69821 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:19:04.69822 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:19:04.69823 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:19:04.69824 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:19:04.69824 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:19:04.69825 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:19:04.69826 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:04.69828 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:04.69831 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:19:04.69832 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:19:04.69832 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:19:04.69833 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:19:04.69834 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:19:04.69835 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:19:04.69835 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:19:04.69836 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:19:04.69837 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:19:04.69838 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:19:04.69840 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:19:04.69841 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:19:04.69842 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:19:04.69842 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:19:04.69843 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:19:04.69844 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:19:04.69845 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:19:04.69845 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:19:04.69846 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:19:04.69847 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:19:04.69848 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:19:04.69850 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:19:04.69851 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:19:04.69852 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:19:04.69853 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:19:04.69854 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:19:04.69854 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:19:04.69855 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:19:04.69856 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:19:07.59934 {"timestamp":"2023-11-13T19:19:07.584Z","pid":6310,"message":"Puma starting in cluster mode..."}
2023-11-13_19:19:07.59940 {"timestamp":"2023-11-13T19:19:07.599Z","pid":6310,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:19:07.59946 {"timestamp":"2023-11-13T19:19:07.599Z","pid":6310,"message":"*  Min threads: 4"}
2023-11-13_19:19:07.59950 {"timestamp":"2023-11-13T19:19:07.599Z","pid":6310,"message":"*  Max threads: 4"}
2023-11-13_19:19:07.59954 {"timestamp":"2023-11-13T19:19:07.599Z","pid":6310,"message":"*  Environment: production"}
2023-11-13_19:19:07.59959 {"timestamp":"2023-11-13T19:19:07.599Z","pid":6310,"message":"*   Master PID: 6310"}
2023-11-13_19:19:07.59963 {"timestamp":"2023-11-13T19:19:07.599Z","pid":6310,"message":"*      Workers: 14"}
2023-11-13_19:19:07.59969 {"timestamp":"2023-11-13T19:19:07.599Z","pid":6310,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:19:07.59973 {"timestamp":"2023-11-13T19:19:07.599Z","pid":6310,"message":"* Preloading application"}
2023-11-13_19:19:26.76044 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:19:27.91768 {"timestamp":"2023-11-13T19:19:27.917Z","pid":6310,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:19:27.91782 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:19:27.91806 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:19:27.91807 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:19:27.91808 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:19:27.91809 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:19:27.91810 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:19:27.91812 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:19:27.91813 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:19:27.91814 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:19:27.91815 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:19:27.91816 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:19:27.91817 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:19:27.91818 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:19:27.91819 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:19:27.91820 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:19:27.91821 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:19:27.91822 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:19:27.91824 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:19:27.91825 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:19:27.91826 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:19:27.91827 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:19:27.91828 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:19:27.91832 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:19:27.91833 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:19:27.91833 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:19:27.91834 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:19:27.91836 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:19:27.91837 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:19:27.91837 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:19:27.91838 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:19:27.91839 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:19:27.91839 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:19:27.91840 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:19:27.91841 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:19:27.91842 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:19:27.91843 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:19:27.91844 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:19:27.91844 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:19:27.91845 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:19:27.91846 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:19:27.91846 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:19:27.91847 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:19:27.91848 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:19:27.91848 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:19:27.91850 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:19:27.91851 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:19:27.91851 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:19:27.91852 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:19:27.91853 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:19:27.91853 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:19:27.91854 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:19:27.91854 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:19:27.91855 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:19:27.91856 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:19:27.91857 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:19:27.91862 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:19:27.91863 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:27.91864 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:27.91864 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:19:27.91865 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:19:27.91866 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:19:27.91866 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:19:27.91867 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:19:27.91867 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:19:27.91868 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:19:27.91870 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:19:27.91871 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:19:27.91871 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:19:27.91872 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:19:27.91872 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:19:27.91873 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:19:27.91874 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:19:27.91874 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:19:27.91875 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:19:27.91876 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:19:27.91876 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:19:27.91878 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:19:27.91879 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:19:27.91879 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:19:27.91880 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:19:27.91881 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:19:27.91881 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:19:27.91882 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:19:27.91883 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:19:27.91883 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:19:27.91886 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:19:27.91887 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:19:27.91887 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:19:27.91888 
2023-11-13_19:19:27.91889 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:19:27.91889 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:19:27.91890 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:19:27.91891 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:19:27.91891 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:19:27.91893 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:19:27.91894 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:19:27.91895 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:19:27.91895 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:19:27.91896 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:19:27.91897 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:19:27.91899 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:19:27.91899 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:19:27.91900 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:19:27.91901 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:19:27.91901 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:19:27.91902 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:19:27.91903 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:19:27.91905 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:19:27.91905 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:19:27.91906 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:19:27.91908 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:19:27.91908 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:19:27.91909 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:19:27.91910 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:19:27.91910 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:19:27.91912 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:19:27.91913 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:19:27.91913 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:19:27.91914 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:19:27.91915 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:19:27.91915 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:19:27.91916 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:19:27.91917 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:19:27.91917 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:19:27.91919 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:19:27.91920 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:19:27.91920 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:19:27.91921 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:19:27.91922 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:19:27.91922 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:19:27.91923 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:19:27.91924 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:19:27.91924 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:19:27.91926 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:19:27.91927 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:19:27.91927 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:19:27.91928 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:19:27.91929 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:19:27.91929 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:19:27.91931 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:19:27.91931 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:19:27.91932 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:19:27.91933 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:19:27.91935 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:19:27.91935 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:19:27.91936 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:19:27.91937 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:19:27.91938 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:19:27.91939 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:19:27.91939 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:19:27.91940 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:19:27.91941 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:19:27.91942 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:27.91943 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:27.91945 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:19:27.91946 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:19:27.91947 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:19:27.91948 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:19:27.91948 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:19:27.91949 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:19:27.91950 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:19:27.91951 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:19:27.91952 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:19:27.91953 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:19:27.91955 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:19:27.91956 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:19:27.91957 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:19:27.91957 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:19:27.91958 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:19:27.91958 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:19:27.91959 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:19:27.91960 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:19:27.91962 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:19:27.91962 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:19:27.91963 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:19:27.91965 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:19:27.91966 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:19:27.91966 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:19:27.91967 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:19:27.91968 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:19:27.91968 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:19:27.91969 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:19:27.91970 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:19:27.91970 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:19:27.91973 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:19:27.91973 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:19:27.91974 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:19:27.91974 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:19:27.91975 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:19:27.91976 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:19:27.91976 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:19:27.91977 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:19:27.91979 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:19:27.91980 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:19:27.91981 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:19:27.91981 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:19:27.91982 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:19:27.91983 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:19:27.91985 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:19:27.91986 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:19:27.91987 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:19:27.91988 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:19:27.91988 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:19:27.91989 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:19:27.91990 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:19:27.91990 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:19:27.91992 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:19:27.91993 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:19:27.91994 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:19:27.91994 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:19:27.91995 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:19:27.91996 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:19:27.91996 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:19:27.91997 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:19:27.91999 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:19:27.92000 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:19:27.92001 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:19:27.92001 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:19:27.92002 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:19:27.92003 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:19:27.92003 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:19:27.92004 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:19:27.92004 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:19:27.92006 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:19:27.92007 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:19:27.92008 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:19:27.92010 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:19:27.92010 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:19:27.92011 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:19:27.92012 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:19:27.92012 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:19:27.92013 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:19:27.92015 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:19:27.92015 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:19:27.92016 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:19:27.92017 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:19:27.92017 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:19:27.92018 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:19:27.92019 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:19:27.92019 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:19:27.92020 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:19:27.92021 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:19:27.92023 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:19:27.92024 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:19:27.92025 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:19:27.92026 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:19:27.92027 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:19:27.92028 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:19:27.92029 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:19:27.92029 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:19:27.92030 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:27.92031 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:27.92032 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:19:27.92034 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:19:27.92035 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:19:27.92036 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:19:27.92036 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:19:27.92037 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:19:27.92039 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:19:27.92039 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:19:27.92040 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:19:27.92041 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:19:27.92041 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:19:27.92043 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:19:27.92044 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:19:27.92044 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:19:27.92045 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:19:27.92046 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:19:27.92046 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:19:27.92047 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:19:27.92048 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:19:27.92048 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:19:27.92049 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:19:27.92051 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:19:27.92052 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:19:27.92053 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:19:27.92053 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:19:27.92054 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:19:27.92055 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:19:27.92055 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:19:27.92056 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:19:30.76537 {"timestamp":"2023-11-13T19:19:30.750Z","pid":7545,"message":"Puma starting in cluster mode..."}
2023-11-13_19:19:30.76541 {"timestamp":"2023-11-13T19:19:30.765Z","pid":7545,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:19:30.76543 {"timestamp":"2023-11-13T19:19:30.765Z","pid":7545,"message":"*  Min threads: 4"}
2023-11-13_19:19:30.76548 {"timestamp":"2023-11-13T19:19:30.765Z","pid":7545,"message":"*  Max threads: 4"}
2023-11-13_19:19:30.76551 {"timestamp":"2023-11-13T19:19:30.765Z","pid":7545,"message":"*  Environment: production"}
2023-11-13_19:19:30.76557 {"timestamp":"2023-11-13T19:19:30.765Z","pid":7545,"message":"*   Master PID: 7545"}
2023-11-13_19:19:30.76562 {"timestamp":"2023-11-13T19:19:30.765Z","pid":7545,"message":"*      Workers: 14"}
2023-11-13_19:19:30.76568 {"timestamp":"2023-11-13T19:19:30.765Z","pid":7545,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:19:30.76573 {"timestamp":"2023-11-13T19:19:30.765Z","pid":7545,"message":"* Preloading application"}
2023-11-13_19:19:49.45300 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:19:50.55673 {"timestamp":"2023-11-13T19:19:50.556Z","pid":7545,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:19:50.55692 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:19:50.55718 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:19:50.55719 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:19:50.55719 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:19:50.55719 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:19:50.55719 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:19:50.55720 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:19:50.55720 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:19:50.55721 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:19:50.55721 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:19:50.55721 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:19:50.55721 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:19:50.55722 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:19:50.55722 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:19:50.55722 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:19:50.55723 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:19:50.55723 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:19:50.55723 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:19:50.55724 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:19:50.55724 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:19:50.55724 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:19:50.55724 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:19:50.55725 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:19:50.55725 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:19:50.55725 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:19:50.55726 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:19:50.55726 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:19:50.55726 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:19:50.55728 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:19:50.55728 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:19:50.55728 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:19:50.55729 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:19:50.55729 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:19:50.55730 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:19:50.55730 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:19:50.55730 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:19:50.55730 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:19:50.55731 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:19:50.55731 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:19:50.55731 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:19:50.55731 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:19:50.55732 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:19:50.55732 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:19:50.55733 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:19:50.55733 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:19:50.55733 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:19:50.55733 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:19:50.55734 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:19:50.55734 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:19:50.55734 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:19:50.55734 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:19:50.55735 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:19:50.55735 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:19:50.55735 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:19:50.55736 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:19:50.55736 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:19:50.55736 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:50.55737 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:50.55737 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:19:50.55737 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:19:50.55738 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:19:50.55738 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:19:50.55738 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:19:50.55738 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:19:50.55739 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:19:50.55739 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:19:50.55740 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:19:50.55740 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:19:50.55740 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:19:50.55740 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:19:50.55741 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:19:50.55741 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:19:50.55741 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:19:50.55741 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:19:50.55742 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:19:50.55742 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:19:50.55743 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:19:50.55743 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:19:50.55743 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:19:50.55743 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:19:50.55744 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:19:50.55744 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:19:50.55744 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:19:50.55744 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:19:50.55746 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:19:50.55746 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:19:50.55746 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:19:50.55747 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:19:50.55748 
2023-11-13_19:19:50.55748 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:19:50.55748 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:19:50.55750 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:19:50.55750 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:19:50.55750 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:19:50.55751 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:19:50.55751 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:19:50.55751 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:19:50.55751 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:19:50.55752 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:19:50.55753 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:19:50.55753 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:19:50.55753 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:19:50.55754 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:19:50.55754 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:19:50.55754 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:19:50.55755 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:19:50.55755 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:19:50.55755 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:19:50.55756 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:19:50.55756 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:19:50.55756 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:19:50.55756 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:19:50.55757 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:19:50.55757 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:19:50.55758 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:19:50.55758 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:19:50.55758 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:19:50.55759 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:19:50.55759 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:19:50.55759 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:19:50.55759 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:19:50.55760 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:19:50.55760 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:19:50.55761 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:19:50.55761 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:19:50.55761 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:19:50.55762 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:19:50.55762 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:19:50.55762 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:19:50.55762 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:19:50.55763 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:19:50.55763 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:19:50.55763 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:19:50.55764 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:19:50.55764 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:19:50.55764 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:19:50.55764 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:19:50.55765 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:19:50.55765 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:19:50.55766 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:19:50.55766 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:19:50.55766 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:19:50.55766 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:19:50.55767 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:19:50.55767 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:19:50.55767 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:19:50.55768 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:19:50.55769 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:19:50.55769 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:19:50.55769 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:19:50.55769 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:19:50.55770 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:19:50.55770 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:50.55771 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:50.55771 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:19:50.55771 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:19:50.55771 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:19:50.55772 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:19:50.55772 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:19:50.55772 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:19:50.55773 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:19:50.55773 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:19:50.55774 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:19:50.55774 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:19:50.55774 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:19:50.55775 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:19:50.55775 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:19:50.55775 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:19:50.55776 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:19:50.55776 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:19:50.55776 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:19:50.55776 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:19:50.55777 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:19:50.55778 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:19:50.55778 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:19:50.55778 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:19:50.55779 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:19:50.55779 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:19:50.55779 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:19:50.55781 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:19:50.55781 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:19:50.55782 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:19:50.55782 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:19:50.55782 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:19:50.55783 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:19:50.55783 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:19:50.55783 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:19:50.55783 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:19:50.55784 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:19:50.55784 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:19:50.55785 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:19:50.55785 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:19:50.55785 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:19:50.55785 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:19:50.55786 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:19:50.55786 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:19:50.55787 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:19:50.55787 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:19:50.55787 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:19:50.55787 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:19:50.55788 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:19:50.55788 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:19:50.55788 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:19:50.55789 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:19:50.55790 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:19:50.55790 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:19:50.55790 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:19:50.55790 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:19:50.55791 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:19:50.55791 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:19:50.55791 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:19:50.55792 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:19:50.55792 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:19:50.55792 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:19:50.55793 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:19:50.55793 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:19:50.55793 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:19:50.55793 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:19:50.55794 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:19:50.55794 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:19:50.55795 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:19:50.55795 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:19:50.55795 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:19:50.55795 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:19:50.55796 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:19:50.55796 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:19:50.55796 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:19:50.55796 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:19:50.55797 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:19:50.55797 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:19:50.55798 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:19:50.55798 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:19:50.55799 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:19:50.55799 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:19:50.55799 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:19:50.55799 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:19:50.55800 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:19:50.55800 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:19:50.55800 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:19:50.55801 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:19:50.55801 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:19:50.55801 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:19:50.55801 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:19:50.55802 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:19:50.55802 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:19:50.55802 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:19:50.55802 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:19:50.55803 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:19:50.55803 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:19:50.55803 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:19:50.55804 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:50.55804 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:19:50.55804 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:19:50.55805 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:19:50.55805 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:19:50.55805 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:19:50.55805 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:19:50.55806 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:19:50.55806 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:19:50.55806 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:19:50.55807 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:19:50.55807 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:19:50.55807 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:19:50.55808 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:19:50.55808 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:19:50.55808 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:19:50.55809 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:19:50.55809 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:19:50.55809 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:19:50.55810 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:19:50.55810 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:19:50.55811 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:19:50.55811 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:19:50.55811 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:19:50.55812 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:19:50.55812 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:19:50.55812 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:19:50.55812 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:19:50.55813 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:19:50.55814 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:19:50.55814 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:19:53.42902 {"timestamp":"2023-11-13T19:19:53.413Z","pid":8763,"message":"Puma starting in cluster mode..."}
2023-11-13_19:19:53.42909 {"timestamp":"2023-11-13T19:19:53.429Z","pid":8763,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:19:53.42915 {"timestamp":"2023-11-13T19:19:53.429Z","pid":8763,"message":"*  Min threads: 4"}
2023-11-13_19:19:53.42920 {"timestamp":"2023-11-13T19:19:53.429Z","pid":8763,"message":"*  Max threads: 4"}
2023-11-13_19:19:53.42926 {"timestamp":"2023-11-13T19:19:53.429Z","pid":8763,"message":"*  Environment: production"}
2023-11-13_19:19:53.42931 {"timestamp":"2023-11-13T19:19:53.429Z","pid":8763,"message":"*   Master PID: 8763"}
2023-11-13_19:19:53.42938 {"timestamp":"2023-11-13T19:19:53.429Z","pid":8763,"message":"*      Workers: 14"}
2023-11-13_19:19:53.42944 {"timestamp":"2023-11-13T19:19:53.429Z","pid":8763,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:19:53.42949 {"timestamp":"2023-11-13T19:19:53.429Z","pid":8763,"message":"* Preloading application"}
2023-11-13_19:20:12.15526 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:20:13.27260 {"timestamp":"2023-11-13T19:20:13.272Z","pid":8763,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:20:13.27278 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:20:13.27303 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:20:13.27304 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:20:13.27306 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:20:13.27306 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:20:13.27307 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:20:13.27307 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:20:13.27307 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:20:13.27308 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:20:13.27308 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:20:13.27308 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:20:13.27309 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:20:13.27309 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:20:13.27310 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:20:13.27310 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:20:13.27310 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:20:13.27311 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:20:13.27311 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:20:13.27311 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:20:13.27312 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:20:13.27313 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:20:13.27313 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:20:13.27313 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:20:13.27314 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:20:13.27314 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:20:13.27314 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:20:13.27314 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:20:13.27315 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:20:13.27315 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:20:13.27315 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:20:13.27317 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:20:13.27317 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:20:13.27318 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:20:13.27318 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:20:13.27319 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:20:13.27319 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:20:13.27320 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:20:13.27320 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:20:13.27321 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:20:13.27321 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:20:13.27321 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:20:13.27322 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:20:13.27322 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:20:13.27322 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:20:13.27323 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:20:13.27323 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:20:13.27323 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:20:13.27324 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:20:13.27325 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:20:13.27325 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:20:13.27326 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:20:13.27326 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:20:13.27326 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:20:13.27327 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:20:13.27327 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:20:13.27327 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:20:13.27328 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:13.27328 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:13.27328 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:20:13.27329 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:20:13.27329 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:20:13.27330 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:20:13.27330 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:20:13.27330 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:20:13.27331 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:20:13.27331 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:20:13.27332 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:20:13.27332 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:20:13.27332 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:20:13.27333 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:20:13.27334 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:20:13.27334 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:20:13.27334 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:20:13.27335 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:20:13.27335 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:20:13.27335 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:20:13.27335 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:20:13.27336 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:20:13.27336 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:20:13.27336 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:20:13.27338 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:20:13.27339 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:20:13.27339 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:20:13.27339 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:20:13.27339 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:20:13.27340 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:20:13.27340 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:20:13.27340 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:20:13.27341 
2023-11-13_19:20:13.27342 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:20:13.27342 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:20:13.27342 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:20:13.27343 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:20:13.27343 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:20:13.27343 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:20:13.27344 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:20:13.27345 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:20:13.27346 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:20:13.27346 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:20:13.27346 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:20:13.27347 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:20:13.27347 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:20:13.27347 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:20:13.27348 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:20:13.27348 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:20:13.27349 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:20:13.27349 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:20:13.27349 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:20:13.27350 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:20:13.27350 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:20:13.27351 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:20:13.27351 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:20:13.27352 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:20:13.27352 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:20:13.27352 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:20:13.27353 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:20:13.27353 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:20:13.27353 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:20:13.27354 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:20:13.27354 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:20:13.27355 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:20:13.27355 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:20:13.27356 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:20:13.27356 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:20:13.27357 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:20:13.27357 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:20:13.27357 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:20:13.27358 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:20:13.27359 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:20:13.27359 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:20:13.27359 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:20:13.27360 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:20:13.27360 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:20:13.27360 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:20:13.27360 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:20:13.27361 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:20:13.27361 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:20:13.27362 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:20:13.27362 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:20:13.27363 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:20:13.27363 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:20:13.27363 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:20:13.27363 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:20:13.27364 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:20:13.27364 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:20:13.27364 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:20:13.27365 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:20:13.27365 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:20:13.27366 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:20:13.27366 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:20:13.27367 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:20:13.27367 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:20:13.27367 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:13.27368 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:13.27368 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:20:13.27369 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:20:13.27369 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:20:13.27369 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:20:13.27370 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:20:13.27371 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:20:13.27371 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:20:13.27371 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:20:13.27371 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:20:13.27372 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:20:13.27372 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:20:13.27372 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:20:13.27373 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:20:13.27373 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:20:13.27373 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:20:13.27374 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:20:13.27375 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:20:13.27375 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:20:13.27375 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:20:13.27376 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:20:13.27376 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:20:13.27376 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:20:13.27377 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:20:13.27377 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:20:13.27378 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:20:13.27378 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:20:13.27378 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:20:13.27379 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:20:13.27379 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:20:13.27379 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:20:13.27380 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:20:13.27380 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:20:13.27381 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:20:13.27381 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:20:13.27382 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:20:13.27382 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:20:13.27383 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:20:13.27383 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:20:13.27383 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:20:13.27384 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:20:13.27384 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:20:13.27385 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:20:13.27385 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:20:13.27386 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:20:13.27386 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:20:13.27386 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:20:13.27386 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:20:13.27387 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:20:13.27388 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:20:13.27389 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:20:13.27389 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:20:13.27389 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:20:13.27390 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:20:13.27390 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:20:13.27390 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:20:13.27391 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:20:13.27392 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:20:13.27392 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:20:13.27393 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:20:13.27393 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:20:13.27393 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:20:13.27394 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:20:13.27394 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:20:13.27394 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:20:13.27395 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:20:13.27396 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:20:13.27396 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:20:13.27396 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:20:13.27397 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:20:13.27397 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:20:13.27397 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:20:13.27397 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:20:13.27398 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:20:13.27399 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:20:13.27399 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:20:13.27399 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:20:13.27400 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:20:13.27400 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:20:13.27400 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:20:13.27401 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:20:13.27401 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:20:13.27401 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:20:13.27402 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:20:13.27402 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:20:13.27403 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:20:13.27404 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:20:13.27404 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:20:13.27405 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:20:13.27405 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:20:13.27405 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:20:13.27406 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:20:13.27406 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:20:13.27406 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:20:13.27407 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:20:13.27408 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:20:13.27408 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:20:13.27408 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:13.27408 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:13.27409 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:20:13.27409 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:20:13.27409 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:20:13.27410 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:20:13.27410 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:20:13.27411 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:20:13.27411 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:20:13.27412 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:20:13.27412 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:20:13.27412 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:20:13.27413 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:20:13.27413 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:20:13.27413 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:20:13.27413 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:20:13.27414 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:20:13.27414 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:20:13.27415 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:20:13.27415 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:20:13.27416 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:20:13.27416 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:20:13.27416 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:20:13.27417 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:20:13.27418 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:20:13.27418 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:20:13.27418 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:20:13.27419 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:20:13.27420 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:20:13.27420 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:20:13.27420 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:20:16.16128 {"timestamp":"2023-11-13T19:20:16.144Z","pid":9974,"message":"Puma starting in cluster mode..."}
2023-11-13_19:20:16.16135 {"timestamp":"2023-11-13T19:20:16.161Z","pid":9974,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:20:16.16142 {"timestamp":"2023-11-13T19:20:16.161Z","pid":9974,"message":"*  Min threads: 4"}
2023-11-13_19:20:16.16147 {"timestamp":"2023-11-13T19:20:16.161Z","pid":9974,"message":"*  Max threads: 4"}
2023-11-13_19:20:16.16152 {"timestamp":"2023-11-13T19:20:16.161Z","pid":9974,"message":"*  Environment: production"}
2023-11-13_19:20:16.16157 {"timestamp":"2023-11-13T19:20:16.161Z","pid":9974,"message":"*   Master PID: 9974"}
2023-11-13_19:20:16.16163 {"timestamp":"2023-11-13T19:20:16.161Z","pid":9974,"message":"*      Workers: 14"}
2023-11-13_19:20:16.16169 {"timestamp":"2023-11-13T19:20:16.161Z","pid":9974,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:20:16.16174 {"timestamp":"2023-11-13T19:20:16.161Z","pid":9974,"message":"* Preloading application"}
2023-11-13_19:20:34.77197 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:20:36.01172 {"timestamp":"2023-11-13T19:20:36.011Z","pid":9974,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:20:36.01186 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:20:36.01217 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:20:36.01219 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:20:36.01220 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:20:36.01221 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:20:36.01224 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:20:36.01226 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:20:36.01227 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:20:36.01228 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:20:36.01229 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:20:36.01230 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:20:36.01233 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:20:36.01234 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:20:36.01234 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:20:36.01235 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:20:36.01236 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:20:36.01240 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:20:36.01241 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:20:36.01242 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:20:36.01243 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:20:36.01243 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:20:36.01244 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:20:36.01244 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:20:36.01245 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:20:36.01246 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:20:36.01248 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:20:36.01249 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:20:36.01250 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:20:36.01250 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:20:36.01251 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:20:36.01252 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:20:36.01253 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:20:36.01253 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:20:36.01254 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:20:36.01256 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:20:36.01256 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:20:36.01257 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:20:36.01258 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:20:36.01259 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:20:36.01260 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:20:36.01260 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:20:36.01264 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:20:36.01264 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:20:36.01267 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:20:36.01267 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:20:36.01268 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:20:36.01269 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:20:36.01270 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:20:36.01270 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:20:36.01271 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:20:36.01272 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:20:36.01273 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:20:36.01273 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:20:36.01274 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:20:36.01276 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:20:36.01277 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:20:36.01278 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:36.01278 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:36.01279 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:20:36.01280 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:20:36.01280 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:20:36.01281 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:20:36.01282 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:20:36.01283 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:20:36.01285 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:20:36.01285 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:20:36.01286 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:20:36.01286 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:20:36.01287 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:20:36.01288 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:20:36.01288 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:20:36.01289 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:20:36.01289 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:20:36.01290 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:20:36.01292 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:20:36.01295 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:20:36.01296 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:20:36.01296 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:20:36.01297 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:20:36.01298 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:20:36.01299 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:20:36.01299 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:20:36.01300 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:20:36.01301 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:20:36.01304 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:20:36.01304 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:20:36.01305 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:20:36.01306 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:20:36.01307 
2023-11-13_19:20:36.01307 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:20:36.01308 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:20:36.01309 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:20:36.01310 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:20:36.01312 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:20:36.01312 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:20:36.01313 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:20:36.01314 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:20:36.01314 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:20:36.01315 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:20:36.01317 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:20:36.01318 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:20:36.01321 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:20:36.01321 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:20:36.01322 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:20:36.01323 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:20:36.01324 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:20:36.01326 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:20:36.01327 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:20:36.01328 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:20:36.01329 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:20:36.01330 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:20:36.01330 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:20:36.01331 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:20:36.01332 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:20:36.01332 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:20:36.01335 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:20:36.01336 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:20:36.01337 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:20:36.01337 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:20:36.01338 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:20:36.01339 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:20:36.01339 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:20:36.01340 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:20:36.01341 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:20:36.01343 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:20:36.01344 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:20:36.01344 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:20:36.01345 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:20:36.01347 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:20:36.01347 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:20:36.01348 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:20:36.01348 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:20:36.01351 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:20:36.01352 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:20:36.01352 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:20:36.01353 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:20:36.01354 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:20:36.01354 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:20:36.01355 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:20:36.01356 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:20:36.01356 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:20:36.01357 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:20:36.01360 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:20:36.01361 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:20:36.01361 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:20:36.01362 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:20:36.01362 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:20:36.01363 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:20:36.01364 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:20:36.01364 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:20:36.01365 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:20:36.01365 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:20:36.01366 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:36.01368 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:36.01369 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:20:36.01370 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:20:36.01371 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:20:36.01372 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:20:36.01372 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:20:36.01373 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:20:36.01378 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:20:36.01379 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:20:36.01380 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:20:36.01382 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:20:36.01383 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:20:36.01383 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:20:36.01384 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:20:36.01385 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:20:36.01386 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:20:36.01386 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:20:36.01387 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:20:36.01388 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:20:36.01389 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:20:36.01390 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:20:36.01392 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:20:36.01393 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:20:36.01393 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:20:36.01394 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:20:36.01395 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:20:36.01395 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:20:36.01396 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:20:36.01397 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:20:36.01398 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:20:36.01398 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:20:36.01401 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:20:36.01402 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:20:36.01403 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:20:36.01404 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:20:36.01404 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:20:36.01405 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:20:36.01406 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:20:36.01408 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:20:36.01411 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:20:36.01411 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:20:36.01412 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:20:36.01413 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:20:36.01414 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:20:36.01415 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:20:36.01417 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:20:36.01418 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:20:36.01419 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:20:36.01420 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:20:36.01421 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:20:36.01421 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:20:36.01422 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:20:36.01425 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:20:36.01426 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:20:36.01427 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:20:36.01427 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:20:36.01428 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:20:36.01429 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:20:36.01430 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:20:36.01430 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:20:36.01431 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:20:36.01434 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:20:36.01435 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:20:36.01439 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:20:36.01440 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:20:36.01440 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:20:36.01441 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:20:36.01442 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:20:36.01443 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:20:36.01445 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:20:36.01446 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:20:36.01447 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:20:36.01447 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:20:36.01448 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:20:36.01449 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:20:36.01449 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:20:36.01450 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:20:36.01451 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:20:36.01453 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:20:36.01454 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:20:36.01455 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:20:36.01456 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:20:36.01456 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:20:36.01457 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:20:36.01458 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:20:36.01459 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:20:36.01460 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:20:36.01460 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:20:36.01463 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:20:36.01463 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:20:36.01464 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:20:36.01465 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:20:36.01465 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:20:36.01466 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:20:36.01468 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:20:36.01469 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:20:36.01470 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:20:36.01471 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:36.01471 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:36.01474 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:20:36.01475 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:20:36.01475 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:20:36.01476 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:20:36.01477 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:20:36.01478 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:20:36.01478 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:20:36.01479 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:20:36.01480 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:20:36.01481 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:20:36.01483 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:20:36.01484 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:20:36.01484 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:20:36.01485 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:20:36.01486 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:20:36.01487 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:20:36.01487 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:20:36.01488 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:20:36.01489 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:20:36.01490 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:20:36.01490 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:20:36.01493 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:20:36.01494 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:20:36.01495 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:20:36.01495 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:20:36.01496 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:20:36.01497 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:20:36.01499 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:20:36.01500 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:20:38.87175 {"timestamp":"2023-11-13T19:20:38.856Z","pid":11170,"message":"Puma starting in cluster mode..."}
2023-11-13_19:20:38.87183 {"timestamp":"2023-11-13T19:20:38.871Z","pid":11170,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:20:38.87189 {"timestamp":"2023-11-13T19:20:38.871Z","pid":11170,"message":"*  Min threads: 4"}
2023-11-13_19:20:38.87195 {"timestamp":"2023-11-13T19:20:38.871Z","pid":11170,"message":"*  Max threads: 4"}
2023-11-13_19:20:38.87201 {"timestamp":"2023-11-13T19:20:38.871Z","pid":11170,"message":"*  Environment: production"}
2023-11-13_19:20:38.87208 {"timestamp":"2023-11-13T19:20:38.872Z","pid":11170,"message":"*   Master PID: 11170"}
2023-11-13_19:20:38.87214 {"timestamp":"2023-11-13T19:20:38.872Z","pid":11170,"message":"*      Workers: 14"}
2023-11-13_19:20:38.87221 {"timestamp":"2023-11-13T19:20:38.872Z","pid":11170,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:20:38.87225 {"timestamp":"2023-11-13T19:20:38.872Z","pid":11170,"message":"* Preloading application"}
2023-11-13_19:20:57.52835 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:20:58.67390 {"timestamp":"2023-11-13T19:20:58.673Z","pid":11170,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:20:58.67404 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:20:58.67430 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:20:58.67431 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:20:58.67432 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:20:58.67432 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:20:58.67432 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:20:58.67433 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:20:58.67433 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:20:58.67434 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:20:58.67434 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:20:58.67435 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:20:58.67436 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:20:58.67436 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:20:58.67437 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:20:58.67437 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:20:58.67437 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:20:58.67438 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:20:58.67438 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:20:58.67440 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:20:58.67440 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:20:58.67441 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:20:58.67442 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:20:58.67442 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:20:58.67442 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:20:58.67442 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:20:58.67443 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:20:58.67443 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:20:58.67443 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:20:58.67444 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:20:58.67444 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:20:58.67445 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:20:58.67445 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:20:58.67446 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:20:58.67446 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:20:58.67446 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:20:58.67446 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:20:58.67447 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:20:58.67447 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:20:58.67448 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:20:58.67448 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:20:58.67449 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:20:58.67449 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:20:58.67449 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:20:58.67450 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:20:58.67450 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:20:58.67450 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:20:58.67451 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:20:58.67452 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:20:58.67452 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:20:58.67453 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:20:58.67453 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:20:58.67453 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:20:58.67454 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:20:58.67454 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:20:58.67454 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:20:58.67454 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:20:58.67455 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:58.67455 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:58.67455 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:20:58.67456 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:20:58.67456 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:20:58.67457 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:20:58.67457 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:20:58.67457 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:20:58.67458 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:20:58.67458 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:20:58.67458 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:20:58.67458 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:20:58.67459 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:20:58.67459 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:20:58.67460 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:20:58.67460 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:20:58.67461 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:20:58.67461 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:20:58.67461 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:20:58.67461 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:20:58.67462 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:20:58.67462 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:20:58.67462 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:20:58.67463 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:20:58.67464 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:20:58.67464 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:20:58.67465 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:20:58.67465 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:20:58.67465 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:20:58.67465 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:20:58.67466 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:20:58.67466 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:20:58.67467 
2023-11-13_19:20:58.67467 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:20:58.67467 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:20:58.67468 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:20:58.67468 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:20:58.67468 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:20:58.67469 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:20:58.67469 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:20:58.67470 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:20:58.67470 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:20:58.67471 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:20:58.67471 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:20:58.67471 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:20:58.67472 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:20:58.67472 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:20:58.67473 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:20:58.67473 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:20:58.67474 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:20:58.67474 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:20:58.67475 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:20:58.67475 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:20:58.67475 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:20:58.67476 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:20:58.67477 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:20:58.67477 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:20:58.67477 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:20:58.67478 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:20:58.67478 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:20:58.67478 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:20:58.67479 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:20:58.67479 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:20:58.67479 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:20:58.67480 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:20:58.67480 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:20:58.67481 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:20:58.67481 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:20:58.67481 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:20:58.67482 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:20:58.67482 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:20:58.67482 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:20:58.67483 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:20:58.67483 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:20:58.67484 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:20:58.67484 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:20:58.67484 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:20:58.67484 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:20:58.67485 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:20:58.67486 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:20:58.67486 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:20:58.67487 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:20:58.67487 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:20:58.67488 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:20:58.67488 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:20:58.67488 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:20:58.67488 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:20:58.67489 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:20:58.67489 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:20:58.67489 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:20:58.67490 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:20:58.67490 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:20:58.67491 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:20:58.67491 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:20:58.67491 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:20:58.67492 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:20:58.67492 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:58.67492 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:58.67493 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:20:58.67493 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:20:58.67493 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:20:58.67494 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:20:58.67495 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:20:58.67495 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:20:58.67495 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:20:58.67495 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:20:58.67496 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:20:58.67496 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:20:58.67496 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:20:58.67497 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:20:58.67497 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:20:58.67497 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:20:58.67498 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:20:58.67499 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:20:58.67499 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:20:58.67500 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:20:58.67500 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:20:58.67500 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:20:58.67501 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:20:58.67501 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:20:58.67501 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:20:58.67502 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:20:58.67502 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:20:58.67503 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:20:58.67503 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:20:58.67503 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:20:58.67504 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:20:58.67504 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:20:58.67504 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:20:58.67505 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:20:58.67505 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:20:58.67505 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:20:58.67506 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:20:58.67507 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:20:58.67507 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:20:58.67507 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:20:58.67508 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:20:58.67508 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:20:58.67508 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:20:58.67509 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:20:58.67510 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:20:58.67511 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:20:58.67511 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:20:58.67511 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:20:58.67512 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:20:58.67512 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:20:58.67513 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:20:58.67513 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:20:58.67513 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:20:58.67514 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:20:58.67514 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:20:58.67514 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:20:58.67515 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:20:58.67516 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:20:58.67516 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:20:58.67516 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:20:58.67517 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:20:58.67517 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:20:58.67517 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:20:58.67517 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:20:58.67518 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:20:58.67518 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:20:58.67519 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:20:58.67519 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:20:58.67520 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:20:58.67520 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:20:58.67521 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:20:58.67521 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:20:58.67522 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:20:58.67522 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:20:58.67522 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:20:58.67523 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:20:58.67524 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:20:58.67526 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:20:58.67526 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:20:58.67526 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:20:58.67527 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:20:58.67527 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:20:58.67527 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:20:58.67527 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:20:58.67528 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:20:58.67529 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:20:58.67529 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:20:58.67529 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:20:58.67530 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:20:58.67530 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:20:58.67530 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:20:58.67530 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:20:58.67531 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:20:58.67531 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:20:58.67531 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:20:58.67532 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:20:58.67533 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:20:58.67533 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:20:58.67533 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:58.67533 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:20:58.67534 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:20:58.67534 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:20:58.67535 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:20:58.67535 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:20:58.67536 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:20:58.67537 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:20:58.67537 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:20:58.67537 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:20:58.67537 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:20:58.67538 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:20:58.67538 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:20:58.67538 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:20:58.67538 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:20:58.67539 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:20:58.67539 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:20:58.67539 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:20:58.67540 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:20:58.67540 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:20:58.67541 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:20:58.67541 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:20:58.67541 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:20:58.67542 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:20:58.67542 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:20:58.67542 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:20:58.67543 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:20:58.67543 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:20:58.67544 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:20:58.67544 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:20:58.67544 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:21:01.60238 {"timestamp":"2023-11-13T19:21:01.586Z","pid":12379,"message":"Puma starting in cluster mode..."}
2023-11-13_19:21:01.60244 {"timestamp":"2023-11-13T19:21:01.602Z","pid":12379,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:21:01.60248 {"timestamp":"2023-11-13T19:21:01.602Z","pid":12379,"message":"*  Min threads: 4"}
2023-11-13_19:21:01.60252 {"timestamp":"2023-11-13T19:21:01.602Z","pid":12379,"message":"*  Max threads: 4"}
2023-11-13_19:21:01.60256 {"timestamp":"2023-11-13T19:21:01.602Z","pid":12379,"message":"*  Environment: production"}
2023-11-13_19:21:01.60260 {"timestamp":"2023-11-13T19:21:01.602Z","pid":12379,"message":"*   Master PID: 12379"}
2023-11-13_19:21:01.60264 {"timestamp":"2023-11-13T19:21:01.602Z","pid":12379,"message":"*      Workers: 14"}
2023-11-13_19:21:01.60270 {"timestamp":"2023-11-13T19:21:01.602Z","pid":12379,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:21:01.60274 {"timestamp":"2023-11-13T19:21:01.602Z","pid":12379,"message":"* Preloading application"}
2023-11-13_19:21:19.87549 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:21:21.04506 {"timestamp":"2023-11-13T19:21:21.044Z","pid":12379,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:21:21.04510 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:21:21.04536 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:21:21.04537 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:21:21.04538 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:21:21.04538 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:21:21.04539 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:21:21.04540 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:21:21.04540 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:21:21.04541 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:21:21.04541 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:21:21.04542 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:21:21.04542 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:21:21.04543 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:21:21.04543 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:21:21.04545 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:21:21.04545 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:21:21.04546 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:21:21.04546 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:21:21.04547 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:21:21.04547 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:21:21.04548 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:21:21.04549 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:21:21.04549 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:21:21.04550 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:21:21.04553 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:21:21.04553 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:21:21.04553 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:21:21.04554 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:21:21.04554 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:21:21.04555 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:21:21.04555 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:21:21.04555 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:21:21.04557 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:21:21.04557 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:21:21.04557 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:21:21.04558 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:21:21.04558 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:21:21.04558 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:21:21.04559 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:21:21.04559 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:21:21.04560 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:21:21.04561 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:21:21.04561 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:21:21.04561 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:21:21.04562 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:21:21.04562 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:21:21.04563 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:21:21.04563 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:21:21.04563 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:21:21.04564 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:21:21.04564 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:21:21.04564 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:21:21.04565 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:21:21.04565 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:21:21.04566 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:21:21.04567 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:21:21.04567 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:21:21.04567 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:21:21.04568 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:21:21.04568 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:21:21.04568 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:21:21.04568 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:21:21.04569 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:21:21.04570 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:21:21.04570 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:21:21.04570 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:21:21.04571 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:21:21.04571 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:21:21.04571 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:21:21.04572 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:21:21.04572 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:21:21.04572 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:21:21.04572 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:21:21.04573 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:21:21.04574 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:21:21.04574 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:21:21.04574 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:21:21.04575 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:21:21.04575 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:21:21.04575 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:21:21.04576 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:21:21.04576 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:21:21.04577 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:21:21.04577 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:21:21.04577 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:21:21.04578 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:21:21.04578 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:21:21.04578 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:21:21.04580 
2023-11-13_19:21:21.04580 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:21:21.04581 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:21:21.04581 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:21:21.04582 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:21:21.04582 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:21:21.04583 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:21:21.04583 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:21:21.04583 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:21:21.04584 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:21:21.04585 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:21:21.04585 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:21:21.04585 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:21:21.04586 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:21:21.04586 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:21:21.04586 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:21:21.04587 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:21:21.04588 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:21:21.04588 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:21:21.04588 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:21:21.04589 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:21:21.04589 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:21:21.04589 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:21:21.04589 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:21:21.04590 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:21:21.04591 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:21:21.04591 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:21:21.04592 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:21:21.04592 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:21:21.04592 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:21:21.04593 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:21:21.04593 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:21:21.04593 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:21:21.04594 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:21:21.04595 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:21:21.04595 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:21:21.04595 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:21:21.04595 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:21:21.04596 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:21:21.04596 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:21:21.04596 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:21:21.04597 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:21:21.04598 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:21:21.04598 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:21:21.04598 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:21:21.04599 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:21:21.04599 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:21:21.04599 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:21:21.04600 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:21:21.04600 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:21:21.04600 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:21:21.04600 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:21:21.04601 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:21:21.04602 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:21:21.04602 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:21:21.04603 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:21:21.04603 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:21:21.04603 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:21:21.04604 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:21:21.04604 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:21:21.04604 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:21:21.04605 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:21:21.04605 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:21:21.04606 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:21:21.04606 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:21:21.04607 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:21:21.04607 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:21:21.04607 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:21:21.04608 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:21:21.04608 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:21:21.04608 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:21:21.04608 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:21:21.04609 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:21:21.04610 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:21:21.04610 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:21:21.04610 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:21:21.04611 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:21:21.04611 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:21:21.04611 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:21:21.04612 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:21:21.04612 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:21:21.04612 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:21:21.04612 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:21:21.04613 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:21:21.04614 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:21:21.04614 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:21:21.04615 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:21:21.04615 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:21:21.04615 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:21:21.04616 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:21:21.04616 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:21:21.04616 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:21:21.04617 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:21:21.04618 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:21:21.04618 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:21:21.04618 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:21:21.04619 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:21:21.04619 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:21:21.04619 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:21:21.04620 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:21:21.04620 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:21:21.04620 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:21:21.04621 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:21:21.04622 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:21:21.04622 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:21:21.04622 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:21:21.04623 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:21:21.04623 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:21:21.04624 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:21:21.04624 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:21:21.04624 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:21:21.04625 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:21:21.04625 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:21:21.04626 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:21:21.04626 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:21:21.04627 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:21:21.04627 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:21:21.04628 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:21:21.04628 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:21:21.04628 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:21:21.04629 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:21:21.04629 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:21:21.04629 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:21:21.04630 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:21:21.04631 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:21:21.04631 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:21:21.04631 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:21:21.04632 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:21:21.04632 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:21:21.04633 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:21:21.04633 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:21:21.04633 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:21:21.04634 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:21:21.04635 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:21:21.04635 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:21:21.04635 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:21:21.04636 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:21:21.04636 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:21:21.04636 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:21:21.04637 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:21:21.04638 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:21:21.04639 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:21:21.04639 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:21:21.04639 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:21:21.04639 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:21:21.04640 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:21:21.04640 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:21:21.04640 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:21:21.04641 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:21:21.04641 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:21:21.04642 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:21:21.04642 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:21:21.04642 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:21:21.04643 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:21:21.04643 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:21:21.04643 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:21:21.04644 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:21:21.04644 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:21:21.04644 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:21:21.04645 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:21:21.04645 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:21:21.04645 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:21:21.04646 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:21:21.04647 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:21:21.04647 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:21:21.04647 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:21:21.04647 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:21:21.04648 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:21:21.04648 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:21:21.04648 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:21:21.04649 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:21:21.04649 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:21:21.04650 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:21:21.04651 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:21:21.04651 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:21:21.04651 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:21:21.04652 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:21:21.04652 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:21:21.04652 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:21:21.04653 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:21:21.04653 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:21:21.04653 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:21:21.04653 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:21:21.04654 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:21:21.04655 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:21:21.04655 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:21:21.04655 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:21:21.04656 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:21:21.04656 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:21:21.04656 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:21:21.04657 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:21:21.04657 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:21:21.04658 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:21:23.79791 {"timestamp":"2023-11-13T19:21:23.783Z","pid":13571,"message":"Puma starting in cluster mode..."}
2023-11-13_19:21:23.79798 {"timestamp":"2023-11-13T19:21:23.797Z","pid":13571,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:21:23.79804 {"timestamp":"2023-11-13T19:21:23.797Z","pid":13571,"message":"*  Min threads: 4"}
2023-11-13_19:21:23.79811 {"timestamp":"2023-11-13T19:21:23.798Z","pid":13571,"message":"*  Max threads: 4"}
2023-11-13_19:21:23.79815 {"timestamp":"2023-11-13T19:21:23.798Z","pid":13571,"message":"*  Environment: production"}
2023-11-13_19:21:23.79821 {"timestamp":"2023-11-13T19:21:23.798Z","pid":13571,"message":"*   Master PID: 13571"}
2023-11-13_19:21:23.79828 {"timestamp":"2023-11-13T19:21:23.798Z","pid":13571,"message":"*      Workers: 14"}
2023-11-13_19:21:23.79834 {"timestamp":"2023-11-13T19:21:23.798Z","pid":13571,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:21:23.79838 {"timestamp":"2023-11-13T19:21:23.798Z","pid":13571,"message":"* Preloading application"}
2023-11-13_19:21:42.12348 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:21:43.31737 {"timestamp":"2023-11-13T19:21:43.317Z","pid":13571,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:21:43.31751 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:21:43.31775 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:21:43.31776 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:21:43.31777 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:21:43.31777 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:21:43.31778 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:21:43.31780 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:21:43.31781 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:21:43.31782 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:21:43.31782 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:21:43.31783 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:21:43.31784 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:21:43.31785 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:21:43.31786 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:21:43.31786 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:21:43.31787 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:21:43.31788 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:21:43.31790 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:21:43.31791 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:21:43.31792 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:21:43.31793 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:21:43.31793 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:21:43.31794 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:21:43.31795 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:21:43.31796 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:21:43.31796 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:21:43.31799 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:21:43.31800 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:21:43.31800 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:21:43.31801 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:21:43.31804 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:21:43.31804 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:21:43.31805 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:21:43.31806 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:21:43.31808 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:21:43.31809 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:21:43.31810 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:21:43.31811 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:21:43.31812 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:21:43.31812 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:21:43.31813 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:21:43.31814 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:21:43.31815 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:21:43.31816 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:21:43.31818 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:21:43.31819 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:21:43.31819 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:21:43.31820 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:21:43.31821 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:21:43.31821 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:21:43.31822 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:21:43.31823 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:21:43.31824 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:21:43.31824 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:21:43.31825 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:21:43.31827 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:21:43.31828 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:21:43.31829 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:21:43.31830 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:21:43.31830 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:21:43.31831 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:21:43.31832 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:21:43.31834 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:21:43.31835 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:21:43.31836 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:21:43.31838 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:21:43.31839 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:21:43.31840 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:21:43.31841 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:21:43.31841 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:21:43.31842 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:21:43.31843 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:21:43.31843 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:21:43.31844 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:21:43.31845 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:21:43.31846 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:21:43.31848 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:21:43.31849 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:21:43.31850 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:21:43.31850 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:21:43.31851 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:21:43.31852 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:21:43.31853 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:21:43.31853 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:21:43.31854 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:21:43.31859 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:21:43.31861 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:21:43.31861 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:21:43.31862 
2023-11-13_19:21:43.31863 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:21:43.31864 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:21:43.31865 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:21:43.31865 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:21:43.31868 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:21:43.31870 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:21:43.31871 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:21:43.31872 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:21:43.31873 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:21:43.31874 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:21:43.31874 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:21:43.31877 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:21:43.31878 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:21:43.31878 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:21:43.31879 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:21:43.31880 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:21:43.31881 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:21:43.31882 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:21:43.31884 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:21:43.31885 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:21:43.31886 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:21:43.31887 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:21:43.31888 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:21:43.31888 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:21:43.31889 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:21:43.31890 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:21:43.31892 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:21:43.31893 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:21:43.31894 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:21:43.31896 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:21:43.31897 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:21:43.31898 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:21:43.31899 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:21:43.31899 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:21:43.31900 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:21:43.31902 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:21:43.31903 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:21:43.31904 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:21:43.31905 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:21:43.31905 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:21:43.31906 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:21:43.31907 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:21:43.31908 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:21:43.31909 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:21:43.31911 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:21:43.31912 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:21:43.31913 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:21:43.31914 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:21:43.31914 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:21:43.31915 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:21:43.31916 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:21:43.31917 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:21:43.31917 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:21:43.31918 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:21:43.31921 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:21:43.31921 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:21:43.31922 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:21:43.31923 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:21:43.31923 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:21:43.31924 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:21:43.31927 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:21:43.31927 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:21:43.31928 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:21:43.31929 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:21:43.31930 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:21:43.31932 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:21:43.31933 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:21:43.31933 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:21:43.31934 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:21:43.31935 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:21:43.31936 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:21:43.31936 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:21:43.31937 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:21:43.31938 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:21:43.31939 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:21:43.31942 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:21:43.31942 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:21:43.31943 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:21:43.31944 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:21:43.31944 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:21:43.31945 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:21:43.31946 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:21:43.31947 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:21:43.31947 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:21:43.31948 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:21:43.31949 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:21:43.31952 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:21:43.31953 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:21:43.31953 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:21:43.31954 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:21:43.31954 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:21:43.31957 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:21:43.31958 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:21:43.31958 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:21:43.31959 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:21:43.31962 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:21:43.31963 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:21:43.31963 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:21:43.31964 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:21:43.31965 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:21:43.31966 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:21:43.31966 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:21:43.31967 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:21:43.31970 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:21:43.31971 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:21:43.31972 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:21:43.31972 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:21:43.31973 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:21:43.31974 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:21:43.31977 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:21:43.31977 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:21:43.31978 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:21:43.31979 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:21:43.31979 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:21:43.31980 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:21:43.31981 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:21:43.31982 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:21:43.31985 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:21:43.31986 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:21:43.31987 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:21:43.31988 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:21:43.31988 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:21:43.31989 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:21:43.31990 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:21:43.31991 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:21:43.31994 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:21:43.31994 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:21:43.31995 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:21:43.31996 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:21:43.31996 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:21:43.31997 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:21:43.31998 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:21:43.31999 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:21:43.31999 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:21:43.32002 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:21:43.32003 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:21:43.32003 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:21:43.32004 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:21:43.32004 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:21:43.32005 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:21:43.32006 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:21:43.32007 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:21:43.32008 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:21:43.32010 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:21:43.32011 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:21:43.32011 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:21:43.32013 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:21:43.32014 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:21:43.32015 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:21:43.32016 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:21:43.32016 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:21:43.32017 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:21:43.32018 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:21:43.32020 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:21:43.32021 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:21:43.32022 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:21:43.32023 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:21:43.32023 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:21:43.32024 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:21:43.32025 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:21:43.32025 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:21:43.32026 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:21:43.32027 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:21:43.32028 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:21:43.32031 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:21:43.32031 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:21:43.32032 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:21:43.32033 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:21:43.32033 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:21:43.32034 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:21:43.32035 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:21:43.32036 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:21:43.32036 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:21:43.32037 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:21:43.32039 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:21:43.32040 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:21:43.32041 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:21:43.32042 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:21:43.32042 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:21:43.32045 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:21:43.32045 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:21:43.32046 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:21:43.32047 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:21:43.32048 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:21:43.32050 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:21:43.32051 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:21:43.32052 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:21:43.32052 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:21:43.32053 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:21:43.32054 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:21:43.32055 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:21:43.32055 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:21:46.10435 {"timestamp":"2023-11-13T19:21:46.089Z","pid":14758,"message":"Puma starting in cluster mode..."}
2023-11-13_19:21:46.10439 {"timestamp":"2023-11-13T19:21:46.104Z","pid":14758,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:21:46.10440 {"timestamp":"2023-11-13T19:21:46.104Z","pid":14758,"message":"*  Min threads: 4"}
2023-11-13_19:21:46.10441 {"timestamp":"2023-11-13T19:21:46.104Z","pid":14758,"message":"*  Max threads: 4"}
2023-11-13_19:21:46.10443 {"timestamp":"2023-11-13T19:21:46.104Z","pid":14758,"message":"*  Environment: production"}
2023-11-13_19:21:46.10444 {"timestamp":"2023-11-13T19:21:46.104Z","pid":14758,"message":"*   Master PID: 14758"}
2023-11-13_19:21:46.10446 {"timestamp":"2023-11-13T19:21:46.104Z","pid":14758,"message":"*      Workers: 14"}
2023-11-13_19:21:46.10451 {"timestamp":"2023-11-13T19:21:46.104Z","pid":14758,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:21:46.10454 {"timestamp":"2023-11-13T19:21:46.104Z","pid":14758,"message":"* Preloading application"}
2023-11-13_19:22:04.02119 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:22:05.17506 {"timestamp":"2023-11-13T19:22:05.174Z","pid":14758,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:22:05.17518 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:22:05.17545 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:22:05.17548 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:22:05.17549 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:22:05.17550 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:22:05.17552 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:22:05.17555 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:22:05.17556 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:22:05.17557 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:22:05.17558 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:22:05.17560 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:22:05.17561 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:22:05.17562 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:22:05.17562 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:22:05.17563 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:22:05.17564 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:22:05.17565 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:22:05.17566 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:22:05.17567 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:22:05.17567 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:22:05.17570 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:22:05.17571 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:22:05.17571 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:22:05.17572 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:22:05.17573 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:22:05.17574 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:22:05.17575 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:22:05.17576 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:22:05.17576 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:22:05.17579 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:22:05.17580 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:22:05.17580 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:22:05.17581 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:22:05.17582 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:22:05.17583 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:22:05.17584 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:22:05.17588 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:22:05.17589 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:22:05.17591 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:22:05.17592 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:22:05.17593 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:22:05.17594 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:22:05.17594 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:22:05.17595 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:22:05.17596 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:22:05.17597 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:22:05.17598 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:22:05.17600 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:22:05.17601 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:22:05.17602 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:22:05.17602 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:22:05.17603 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:22:05.17604 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:22:05.17605 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:22:05.17605 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:22:05.17606 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:22:05.17607 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:05.17608 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:05.17610 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:22:05.17611 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:22:05.17612 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:22:05.17613 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:22:05.17613 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:22:05.17614 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:22:05.17615 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:22:05.17616 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:22:05.17616 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:22:05.17617 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:22:05.17618 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:22:05.17622 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:22:05.17623 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:22:05.17623 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:22:05.17624 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:22:05.17625 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:22:05.17625 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:22:05.17626 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:22:05.17627 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:22:05.17628 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:22:05.17629 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:22:05.17631 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:22:05.17632 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:22:05.17633 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:22:05.17634 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:22:05.17634 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:22:05.17635 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:22:05.17636 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:22:05.17637 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:22:05.17638 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:22:05.17640 
2023-11-13_19:22:05.17641 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:22:05.17642 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:22:05.17643 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:22:05.17644 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:22:05.17645 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:22:05.17646 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:22:05.17647 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:22:05.17649 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:22:05.17652 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:22:05.17653 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:22:05.17653 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:22:05.17654 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:22:05.17655 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:22:05.17658 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:22:05.17658 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:22:05.17659 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:22:05.17660 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:22:05.17661 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:22:05.17662 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:22:05.17663 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:22:05.17664 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:22:05.17666 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:22:05.17667 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:22:05.17668 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:22:05.17669 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:22:05.17670 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:22:05.17671 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:22:05.17671 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:22:05.17672 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:22:05.17673 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:22:05.17676 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:22:05.17676 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:22:05.17677 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:22:05.17678 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:22:05.17679 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:22:05.17681 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:22:05.17682 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:22:05.17683 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:22:05.17685 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:22:05.17686 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:22:05.17687 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:22:05.17688 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:22:05.17688 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:22:05.17689 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:22:05.17690 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:22:05.17691 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:22:05.17692 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:22:05.17694 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:22:05.17695 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:22:05.17696 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:22:05.17697 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:22:05.17698 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:22:05.17698 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:22:05.17699 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:22:05.17700 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:22:05.17701 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:22:05.17701 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:22:05.17702 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:22:05.17705 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:22:05.17706 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:22:05.17707 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:22:05.17707 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:22:05.17708 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:22:05.17709 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:05.17710 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:05.17711 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:22:05.17711 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:22:05.17713 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:22:05.17714 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:22:05.17717 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:22:05.17718 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:22:05.17718 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:22:05.17719 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:22:05.17720 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:22:05.17721 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:22:05.17722 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:22:05.17723 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:22:05.17723 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:22:05.17724 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:22:05.17725 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:22:05.17727 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:22:05.17728 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:22:05.17729 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:22:05.17730 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:22:05.17730 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:22:05.17731 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:22:05.17732 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:22:05.17733 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:22:05.17734 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:22:05.17736 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:22:05.17737 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:22:05.17737 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:22:05.17738 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:22:05.17739 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:22:05.17739 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:22:05.17740 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:22:05.17741 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:22:05.17742 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:22:05.17746 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:22:05.17747 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:22:05.17748 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:22:05.17748 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:22:05.17749 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:22:05.17750 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:22:05.17751 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:22:05.17753 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:22:05.17754 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:22:05.17755 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:22:05.17756 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:22:05.17757 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:22:05.17758 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:22:05.17758 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:22:05.17761 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:22:05.17762 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:22:05.17763 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:22:05.17764 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:22:05.17764 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:22:05.17765 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:22:05.17766 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:22:05.17769 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:22:05.17769 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:22:05.17770 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:22:05.17771 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:22:05.17773 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:22:05.17774 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:22:05.17775 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:22:05.17776 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:22:05.17776 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:22:05.17777 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:22:05.17780 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:22:05.17781 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:22:05.17782 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:22:05.17783 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:22:05.17783 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:22:05.17784 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:22:05.17785 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:22:05.17786 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:22:05.17788 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:22:05.17789 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:22:05.17790 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:22:05.17791 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:22:05.17792 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:22:05.17793 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:22:05.17794 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:22:05.17794 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:22:05.17795 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:22:05.17797 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:22:05.17798 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:22:05.17798 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:22:05.17799 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:22:05.17800 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:22:05.17801 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:22:05.17803 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:22:05.17804 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:22:05.17805 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:22:05.17805 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:22:05.17806 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:22:05.17808 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:22:05.17809 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:22:05.17810 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:22:05.17811 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:22:05.17811 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:05.17812 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:05.17813 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:22:05.17813 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:22:05.17814 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:22:05.17815 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:22:05.17817 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:22:05.17818 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:22:05.17819 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:22:05.17820 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:22:05.17820 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:22:05.17821 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:22:05.17822 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:22:05.17822 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:22:05.17823 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:22:05.17823 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:22:05.17824 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:22:05.17826 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:22:05.17827 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:22:05.17828 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:22:05.17829 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:22:05.17829 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:22:05.17830 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:22:05.17831 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:22:05.17834 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:22:05.17834 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:22:05.17835 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:22:05.17838 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:22:05.17839 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:22:05.17840 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:22:05.17840 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:22:08.07582 {"timestamp":"2023-11-13T19:22:08.062Z","pid":15933,"message":"Puma starting in cluster mode..."}
2023-11-13_19:22:08.07589 {"timestamp":"2023-11-13T19:22:08.075Z","pid":15933,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:22:08.07594 {"timestamp":"2023-11-13T19:22:08.075Z","pid":15933,"message":"*  Min threads: 4"}
2023-11-13_19:22:08.07602 {"timestamp":"2023-11-13T19:22:08.075Z","pid":15933,"message":"*  Max threads: 4"}
2023-11-13_19:22:08.07604 {"timestamp":"2023-11-13T19:22:08.075Z","pid":15933,"message":"*  Environment: production"}
2023-11-13_19:22:08.07610 {"timestamp":"2023-11-13T19:22:08.076Z","pid":15933,"message":"*   Master PID: 15933"}
2023-11-13_19:22:08.07614 {"timestamp":"2023-11-13T19:22:08.076Z","pid":15933,"message":"*      Workers: 14"}
2023-11-13_19:22:08.07620 {"timestamp":"2023-11-13T19:22:08.076Z","pid":15933,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:22:08.07625 {"timestamp":"2023-11-13T19:22:08.076Z","pid":15933,"message":"* Preloading application"}
2023-11-13_19:22:25.49804 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:22:26.65620 {"timestamp":"2023-11-13T19:22:26.656Z","pid":15933,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:22:26.65637 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:22:26.65662 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:22:26.65664 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:22:26.65664 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:22:26.65665 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:22:26.65665 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:22:26.65666 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:22:26.65666 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:22:26.65667 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:22:26.65667 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:22:26.65669 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:22:26.65669 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:22:26.65670 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:22:26.65672 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:22:26.65672 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:22:26.65672 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:22:26.65673 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:22:26.65673 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:22:26.65673 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:22:26.65674 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:22:26.65675 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:22:26.65675 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:22:26.65675 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:22:26.65676 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:22:26.65676 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:22:26.65676 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:22:26.65677 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:22:26.65677 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:22:26.65678 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:22:26.65678 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:22:26.65679 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:22:26.65679 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:22:26.65680 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:22:26.65680 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:22:26.65680 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:22:26.65681 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:22:26.65681 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:22:26.65682 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:22:26.65683 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:22:26.65683 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:22:26.65684 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:22:26.65684 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:22:26.65685 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:22:26.65685 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:22:26.65686 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:22:26.65686 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:22:26.65686 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:22:26.65687 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:22:26.65688 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:22:26.65688 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:22:26.65688 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:22:26.65689 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:22:26.65689 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:22:26.65689 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:22:26.65690 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:22:26.65690 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:22:26.65691 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:26.65691 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:26.65692 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:22:26.65692 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:22:26.65693 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:22:26.65693 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:22:26.65693 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:22:26.65694 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:22:26.65694 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:22:26.65694 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:22:26.65695 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:22:26.65695 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:22:26.65695 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:22:26.65696 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:22:26.65697 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:22:26.65697 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:22:26.65698 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:22:26.65698 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:22:26.65698 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:22:26.65699 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:22:26.65700 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:22:26.65700 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:22:26.65700 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:22:26.65701 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:22:26.65702 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:22:26.65702 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:22:26.65703 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:22:26.65703 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:22:26.65703 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:22:26.65704 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:22:26.65704 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:22:26.65704 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:22:26.65705 
2023-11-13_19:22:26.65706 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:22:26.65706 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:22:26.65706 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:22:26.65707 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:22:26.65707 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:22:26.65708 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:22:26.65708 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:22:26.65709 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:22:26.65709 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:22:26.65710 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:22:26.65710 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:22:26.65710 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:22:26.65711 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:22:26.65713 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:22:26.65713 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:22:26.65714 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:22:26.65714 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:22:26.65715 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:22:26.65715 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:22:26.65715 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:22:26.65716 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:22:26.65717 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:22:26.65717 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:22:26.65717 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:22:26.65718 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:22:26.65718 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:22:26.65718 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:22:26.65719 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:22:26.65719 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:22:26.65720 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:22:26.65721 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:22:26.65721 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:22:26.65721 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:22:26.65722 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:22:26.65722 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:22:26.65722 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:22:26.65723 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:22:26.65723 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:22:26.65724 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:22:26.65724 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:22:26.65725 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:22:26.65726 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:22:26.65726 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:22:26.65727 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:22:26.65727 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:22:26.65727 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:22:26.65728 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:22:26.65729 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:22:26.65729 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:22:26.65729 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:22:26.65730 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:22:26.65730 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:22:26.65730 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:22:26.65731 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:22:26.65731 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:22:26.65731 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:22:26.65732 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:22:26.65732 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:22:26.65733 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:22:26.65733 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:22:26.65734 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:22:26.65734 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:22:26.65734 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:22:26.65735 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:26.65735 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:26.65736 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:22:26.65736 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:22:26.65736 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:22:26.65737 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:22:26.65738 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:22:26.65738 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:22:26.65738 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:22:26.65739 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:22:26.65740 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:22:26.65740 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:22:26.65740 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:22:26.65741 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:22:26.65741 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:22:26.65741 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:22:26.65742 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:22:26.65743 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:22:26.65743 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:22:26.65743 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:22:26.65744 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:22:26.65744 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:22:26.65744 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:22:26.65745 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:22:26.65745 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:22:26.65746 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:22:26.65746 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:22:26.65747 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:22:26.65747 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:22:26.65748 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:22:26.65748 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:22:26.65748 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:22:26.65749 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:22:26.65749 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:22:26.65749 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:22:26.65750 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:22:26.65751 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:22:26.65751 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:22:26.65752 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:22:26.65752 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:22:26.65752 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:22:26.65754 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:22:26.65755 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:22:26.65755 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:22:26.65756 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:22:26.65756 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:22:26.65757 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:22:26.65757 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:22:26.65757 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:22:26.65758 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:22:26.65759 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:22:26.65759 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:22:26.65760 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:22:26.65760 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:22:26.65760 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:22:26.65761 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:22:26.65762 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:22:26.65762 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:22:26.65762 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:22:26.65763 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:22:26.65763 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:22:26.65763 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:22:26.65764 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:22:26.65764 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:22:26.65764 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:22:26.65765 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:22:26.65767 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:22:26.65767 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:22:26.65767 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:22:26.65768 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:22:26.65768 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:22:26.65769 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:22:26.65769 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:22:26.65769 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:22:26.65770 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:22:26.65771 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:22:26.65771 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:22:26.65771 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:22:26.65772 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:22:26.65772 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:22:26.65773 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:22:26.65773 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:22:26.65773 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:22:26.65774 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:22:26.65775 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:22:26.65775 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:22:26.65775 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:22:26.65776 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:22:26.65776 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:22:26.65776 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:22:26.65777 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:22:26.65777 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:22:26.65778 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:22:26.65778 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:22:26.65779 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:22:26.65779 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:22:26.65780 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:22:26.65781 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:22:26.65781 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:26.65781 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:26.65782 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:22:26.65782 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:22:26.65783 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:22:26.65783 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:22:26.65784 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:22:26.65784 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:22:26.65785 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:22:26.65785 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:22:26.65786 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:22:26.65786 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:22:26.65786 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:22:26.65787 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:22:26.65787 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:22:26.65787 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:22:26.65788 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:22:26.65789 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:22:26.65789 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:22:26.65789 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:22:26.65790 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:22:26.65790 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:22:26.65791 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:22:26.65791 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:22:26.65791 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:22:26.65792 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:22:26.65792 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:22:26.65793 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:22:26.65794 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:22:26.65794 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:22:26.65795 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:22:29.32923 {"timestamp":"2023-11-13T19:22:29.315Z","pid":17116,"message":"Puma starting in cluster mode..."}
2023-11-13_19:22:29.32929 {"timestamp":"2023-11-13T19:22:29.329Z","pid":17116,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:22:29.32936 {"timestamp":"2023-11-13T19:22:29.329Z","pid":17116,"message":"*  Min threads: 4"}
2023-11-13_19:22:29.32945 {"timestamp":"2023-11-13T19:22:29.329Z","pid":17116,"message":"*  Max threads: 4"}
2023-11-13_19:22:29.32948 {"timestamp":"2023-11-13T19:22:29.329Z","pid":17116,"message":"*  Environment: production"}
2023-11-13_19:22:29.32954 {"timestamp":"2023-11-13T19:22:29.329Z","pid":17116,"message":"*   Master PID: 17116"}
2023-11-13_19:22:29.32963 {"timestamp":"2023-11-13T19:22:29.329Z","pid":17116,"message":"*      Workers: 14"}
2023-11-13_19:22:29.32966 {"timestamp":"2023-11-13T19:22:29.329Z","pid":17116,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:22:29.32973 {"timestamp":"2023-11-13T19:22:29.329Z","pid":17116,"message":"* Preloading application"}
2023-11-13_19:22:47.12233 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:22:48.26922 {"timestamp":"2023-11-13T19:22:48.269Z","pid":17116,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:22:48.26939 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:22:48.26962 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:22:48.26964 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:22:48.26965 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:22:48.26965 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:22:48.26966 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:22:48.26966 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:22:48.26967 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:22:48.26968 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:22:48.26968 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:22:48.26969 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:22:48.26970 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:22:48.26970 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:22:48.26971 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:22:48.26972 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:22:48.26972 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:22:48.26973 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:22:48.26973 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:22:48.26974 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:22:48.26975 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:22:48.26976 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:22:48.26977 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:22:48.26977 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:22:48.26977 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:22:48.26978 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:22:48.26978 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:22:48.26978 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:22:48.26979 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:22:48.26979 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:22:48.26980 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:22:48.26981 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:22:48.26981 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:22:48.26982 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:22:48.26982 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:22:48.26983 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:22:48.26983 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:22:48.26984 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:22:48.26984 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:22:48.26985 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:22:48.26985 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:22:48.26986 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:22:48.26986 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:22:48.26987 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:22:48.26987 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:22:48.26987 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:22:48.26988 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:22:48.26988 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:22:48.26989 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:22:48.26989 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:22:48.26990 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:22:48.26991 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:22:48.26991 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:22:48.26992 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:22:48.26992 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:22:48.26992 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:22:48.26993 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:22:48.26993 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:48.26993 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:48.26994 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:22:48.26995 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:22:48.26995 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:22:48.26995 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:22:48.26996 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:22:48.26996 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:22:48.26997 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:22:48.26997 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:22:48.26997 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:22:48.26998 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:22:48.26998 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:22:48.26999 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:22:48.26999 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:22:48.27000 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:22:48.27000 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:22:48.27000 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:22:48.27001 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:22:48.27001 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:22:48.27002 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:22:48.27002 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:22:48.27002 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:22:48.27003 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:22:48.27004 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:22:48.27004 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:22:48.27005 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:22:48.27006 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:22:48.27006 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:22:48.27006 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:22:48.27007 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:22:48.27007 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:22:48.27008 
2023-11-13_19:22:48.27009 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:22:48.27009 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:22:48.27009 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:22:48.27010 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:22:48.27010 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:22:48.27010 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:22:48.27011 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:22:48.27012 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:22:48.27012 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:22:48.27013 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:22:48.27013 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:22:48.27013 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:22:48.27014 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:22:48.27015 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:22:48.27015 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:22:48.27016 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:22:48.27016 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:22:48.27017 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:22:48.27017 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:22:48.27018 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:22:48.27019 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:22:48.27020 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:22:48.27020 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:22:48.27020 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:22:48.27021 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:22:48.27021 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:22:48.27022 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:22:48.27022 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:22:48.27022 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:22:48.27023 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:22:48.27024 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:22:48.27024 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:22:48.27025 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:22:48.27025 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:22:48.27025 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:22:48.27026 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:22:48.27026 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:22:48.27027 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:22:48.27028 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:22:48.27028 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:22:48.27028 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:22:48.27029 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:22:48.27029 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:22:48.27029 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:22:48.27030 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:22:48.27030 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:22:48.27030 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:22:48.27032 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:22:48.27032 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:22:48.27033 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:22:48.27033 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:22:48.27034 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:22:48.27034 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:22:48.27034 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:22:48.27035 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:22:48.27035 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:22:48.27035 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:22:48.27036 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:22:48.27037 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:22:48.27037 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:22:48.27037 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:22:48.27038 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:22:48.27038 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:22:48.27039 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:48.27039 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:48.27039 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:22:48.27040 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:22:48.27040 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:22:48.27040 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:22:48.27041 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:22:48.27042 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:22:48.27042 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:22:48.27042 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:22:48.27043 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:22:48.27043 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:22:48.27044 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:22:48.27044 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:22:48.27044 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:22:48.27045 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:22:48.27045 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:22:48.27046 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:22:48.27047 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:22:48.27048 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:22:48.27048 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:22:48.27048 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:22:48.27049 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:22:48.27049 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:22:48.27049 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:22:48.27050 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:22:48.27051 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:22:48.27051 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:22:48.27052 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:22:48.27052 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:22:48.27052 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:22:48.27053 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:22:48.27053 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:22:48.27053 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:22:48.27054 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:22:48.27055 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:22:48.27055 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:22:48.27056 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:22:48.27056 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:22:48.27057 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:22:48.27057 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:22:48.27058 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:22:48.27059 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:22:48.27059 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:22:48.27059 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:22:48.27061 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:22:48.27061 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:22:48.27061 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:22:48.27062 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:22:48.27063 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:22:48.27063 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:22:48.27064 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:22:48.27064 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:22:48.27064 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:22:48.27065 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:22:48.27065 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:22:48.27066 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:22:48.27067 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:22:48.27067 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:22:48.27067 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:22:48.27068 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:22:48.27068 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:22:48.27068 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:22:48.27069 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:22:48.27069 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:22:48.27069 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:22:48.27071 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:22:48.27071 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:22:48.27071 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:22:48.27072 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:22:48.27072 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:22:48.27073 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:22:48.27074 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:22:48.27074 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:22:48.27075 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:22:48.27076 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:22:48.27076 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:22:48.27076 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:22:48.27077 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:22:48.27077 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:22:48.27077 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:22:48.27078 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:22:48.27078 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:22:48.27079 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:22:48.27080 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:22:48.27080 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:22:48.27081 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:22:48.27081 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:22:48.27081 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:22:48.27082 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:22:48.27082 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:22:48.27082 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:22:48.27083 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:22:48.27083 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:22:48.27084 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:22:48.27085 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:22:48.27085 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:22:48.27085 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:22:48.27086 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:48.27086 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:22:48.27086 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:22:48.27087 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:22:48.27087 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:22:48.27088 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:22:48.27090 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:22:48.27090 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:22:48.27091 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:22:48.27091 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:22:48.27091 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:22:48.27092 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:22:48.27092 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:22:48.27093 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:22:48.27093 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:22:48.27093 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:22:48.27094 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:22:48.27095 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:22:48.27095 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:22:48.27096 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:22:48.27096 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:22:48.27096 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:22:48.27097 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:22:48.27097 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:22:48.27098 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:22:48.27098 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:22:48.27098 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:22:48.27100 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:22:48.27100 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:22:48.27100 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:22:48.27101 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:22:51.06048 {"timestamp":"2023-11-13T19:22:51.046Z","pid":18281,"message":"Puma starting in cluster mode..."}
2023-11-13_19:22:51.06055 {"timestamp":"2023-11-13T19:22:51.060Z","pid":18281,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:22:51.06057 {"timestamp":"2023-11-13T19:22:51.060Z","pid":18281,"message":"*  Min threads: 4"}
2023-11-13_19:22:51.06062 {"timestamp":"2023-11-13T19:22:51.060Z","pid":18281,"message":"*  Max threads: 4"}
2023-11-13_19:22:51.06066 {"timestamp":"2023-11-13T19:22:51.060Z","pid":18281,"message":"*  Environment: production"}
2023-11-13_19:22:51.06071 {"timestamp":"2023-11-13T19:22:51.060Z","pid":18281,"message":"*   Master PID: 18281"}
2023-11-13_19:22:51.06075 {"timestamp":"2023-11-13T19:22:51.060Z","pid":18281,"message":"*      Workers: 14"}
2023-11-13_19:22:51.06081 {"timestamp":"2023-11-13T19:22:51.060Z","pid":18281,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:22:51.06085 {"timestamp":"2023-11-13T19:22:51.060Z","pid":18281,"message":"* Preloading application"}
2023-11-13_19:23:09.03345 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:23:10.10062 {"timestamp":"2023-11-13T19:23:10.100Z","pid":18281,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:23:10.10078 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:23:10.10104 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:23:10.10106 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:23:10.10106 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:23:10.10107 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:23:10.10108 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:23:10.10110 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:23:10.10111 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:23:10.10112 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:23:10.10114 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:23:10.10115 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:23:10.10116 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:23:10.10117 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:23:10.10118 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:23:10.10119 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:23:10.10120 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:23:10.10121 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:23:10.10124 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:23:10.10125 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:23:10.10126 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:23:10.10127 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:23:10.10128 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:23:10.10129 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:23:10.10130 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:23:10.10131 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:23:10.10133 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:23:10.10138 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:23:10.10138 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:23:10.10139 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:23:10.10140 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:23:10.10141 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:23:10.10141 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:23:10.10142 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:23:10.10142 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:23:10.10145 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:23:10.10146 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:23:10.10146 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:23:10.10147 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:23:10.10148 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:23:10.10149 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:23:10.10149 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:23:10.10150 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:23:10.10151 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:23:10.10151 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:23:10.10154 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:23:10.10155 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:23:10.10155 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:23:10.10156 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:23:10.10157 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:23:10.10158 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:23:10.10158 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:23:10.10159 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:23:10.10160 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:23:10.10161 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:23:10.10161 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:23:10.10164 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:23:10.10165 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:10.10167 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:10.10167 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:23:10.10168 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:23:10.10169 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:23:10.10170 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:23:10.10170 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:23:10.10171 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:23:10.10172 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:23:10.10175 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:23:10.10176 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:23:10.10176 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:23:10.10177 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:23:10.10178 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:23:10.10179 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:23:10.10179 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:23:10.10180 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:23:10.10181 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:23:10.10182 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:23:10.10182 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:23:10.10185 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:23:10.10186 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:23:10.10186 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:23:10.10187 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:23:10.10188 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:23:10.10188 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:23:10.10193 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:23:10.10194 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:23:10.10195 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:23:10.10198 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:23:10.10199 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:23:10.10199 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:23:10.10202 
2023-11-13_19:23:10.10202 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:23:10.10203 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:23:10.10203 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:23:10.10204 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:23:10.10205 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:23:10.10207 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:23:10.10207 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:23:10.10208 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:23:10.10209 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:23:10.10209 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:23:10.10210 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:23:10.10212 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:23:10.10212 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:23:10.10213 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:23:10.10214 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:23:10.10214 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:23:10.10215 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:23:10.10216 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:23:10.10218 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:23:10.10219 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:23:10.10220 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:23:10.10220 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:23:10.10221 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:23:10.10222 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:23:10.10223 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:23:10.10224 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:23:10.10226 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:23:10.10226 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:23:10.10227 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:23:10.10228 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:23:10.10228 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:23:10.10229 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:23:10.10229 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:23:10.10230 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:23:10.10231 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:23:10.10232 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:23:10.10233 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:23:10.10234 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:23:10.10234 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:23:10.10235 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:23:10.10236 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:23:10.10236 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:23:10.10237 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:23:10.10237 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:23:10.10239 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:23:10.10240 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:23:10.10240 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:23:10.10241 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:23:10.10242 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:23:10.10242 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:23:10.10243 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:23:10.10244 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:23:10.10244 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:23:10.10245 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:23:10.10248 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:23:10.10248 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:23:10.10249 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:23:10.10249 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:23:10.10250 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:23:10.10251 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:23:10.10251 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:23:10.10252 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:23:10.10252 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:23:10.10253 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:10.10254 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:10.10255 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:23:10.10256 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:23:10.10257 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:23:10.10257 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:23:10.10258 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:23:10.10258 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:23:10.10259 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:23:10.10260 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:23:10.10260 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:23:10.10261 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:23:10.10263 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:23:10.10263 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:23:10.10264 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:23:10.10264 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:23:10.10265 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:23:10.10266 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:23:10.10266 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:23:10.10267 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:23:10.10267 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:23:10.10268 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:23:10.10269 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:23:10.10270 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:23:10.10272 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:23:10.10273 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:23:10.10274 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:23:10.10274 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:23:10.10275 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:23:10.10276 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:23:10.10276 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:23:10.10277 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:23:10.10279 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:23:10.10279 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:23:10.10280 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:23:10.10281 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:23:10.10281 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:23:10.10282 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:23:10.10283 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:23:10.10284 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:23:10.10286 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:23:10.10287 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:23:10.10288 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:23:10.10288 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:23:10.10289 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:23:10.10290 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:23:10.10295 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:23:10.10296 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:23:10.10297 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:23:10.10297 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:23:10.10300 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:23:10.10300 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:23:10.10301 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:23:10.10302 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:23:10.10306 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:23:10.10307 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:23:10.10308 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:23:10.10309 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:23:10.10309 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:23:10.10310 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:23:10.10311 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:23:10.10312 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:23:10.10314 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:23:10.10315 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:23:10.10316 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:23:10.10317 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:23:10.10317 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:23:10.10318 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:23:10.10319 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:23:10.10320 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:23:10.10321 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:23:10.10323 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:23:10.10324 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:23:10.10325 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:23:10.10326 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:23:10.10326 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:23:10.10327 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:23:10.10328 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:23:10.10332 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:23:10.10333 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:23:10.10335 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:23:10.10336 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:23:10.10336 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:23:10.10337 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:23:10.10338 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:23:10.10339 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:23:10.10340 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:23:10.10340 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:23:10.10341 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:23:10.10342 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:23:10.10344 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:23:10.10345 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:23:10.10346 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:23:10.10346 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:23:10.10347 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:23:10.10348 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:23:10.10348 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:23:10.10349 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:23:10.10350 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:10.10350 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:10.10351 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:23:10.10354 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:23:10.10355 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:23:10.10355 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:23:10.10356 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:23:10.10357 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:23:10.10358 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:23:10.10358 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:23:10.10359 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:23:10.10360 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:23:10.10361 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:23:10.10364 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:23:10.10365 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:23:10.10366 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:23:10.10367 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:23:10.10367 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:23:10.10368 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:23:10.10369 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:23:10.10369 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:23:10.10370 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:23:10.10371 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:23:10.10374 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:23:10.10374 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:23:10.10375 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:23:10.10376 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:23:10.10377 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:23:10.10378 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:23:10.10378 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:23:10.10379 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:23:13.02623 {"timestamp":"2023-11-13T19:23:13.011Z","pid":19429,"message":"Puma starting in cluster mode..."}
2023-11-13_19:23:13.02628 {"timestamp":"2023-11-13T19:23:13.026Z","pid":19429,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:23:13.02635 {"timestamp":"2023-11-13T19:23:13.026Z","pid":19429,"message":"*  Min threads: 4"}
2023-11-13_19:23:13.02640 {"timestamp":"2023-11-13T19:23:13.026Z","pid":19429,"message":"*  Max threads: 4"}
2023-11-13_19:23:13.02646 {"timestamp":"2023-11-13T19:23:13.026Z","pid":19429,"message":"*  Environment: production"}
2023-11-13_19:23:13.02652 {"timestamp":"2023-11-13T19:23:13.026Z","pid":19429,"message":"*   Master PID: 19429"}
2023-11-13_19:23:13.02657 {"timestamp":"2023-11-13T19:23:13.026Z","pid":19429,"message":"*      Workers: 14"}
2023-11-13_19:23:13.02664 {"timestamp":"2023-11-13T19:23:13.026Z","pid":19429,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:23:13.02669 {"timestamp":"2023-11-13T19:23:13.026Z","pid":19429,"message":"* Preloading application"}
2023-11-13_19:23:31.19742 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:23:32.31791 {"timestamp":"2023-11-13T19:23:32.317Z","pid":19429,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:23:32.31805 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:23:32.31827 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:23:32.31829 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:23:32.31830 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:23:32.31831 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:23:32.31832 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:23:32.31832 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:23:32.31833 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:23:32.31835 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:23:32.31837 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:23:32.31838 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:23:32.31838 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:23:32.31839 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:23:32.31839 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:23:32.31840 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:23:32.31841 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:23:32.31842 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:23:32.31842 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:23:32.31845 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:23:32.31845 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:23:32.31846 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:23:32.31847 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:23:32.31848 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:23:32.31849 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:23:32.31849 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:23:32.31850 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:23:32.31851 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:23:32.31854 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:23:32.31855 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:23:32.31858 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:23:32.31860 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:23:32.31861 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:23:32.31863 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:23:32.31864 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:23:32.31865 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:23:32.31865 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:23:32.31868 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:23:32.31869 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:23:32.31870 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:23:32.31871 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:23:32.31871 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:23:32.31872 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:23:32.31873 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:23:32.31874 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:23:32.31874 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:23:32.31877 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:23:32.31877 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:23:32.31878 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:23:32.31879 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:23:32.31880 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:23:32.31880 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:23:32.31881 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:23:32.31882 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:23:32.31883 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:23:32.31883 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:23:32.31884 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:23:32.31885 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:32.31887 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:32.31888 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:23:32.31889 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:23:32.31890 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:23:32.31891 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:23:32.31891 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:23:32.31892 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:23:32.31894 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:23:32.31895 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:23:32.31897 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:23:32.31898 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:23:32.31899 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:23:32.31899 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:23:32.31900 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:23:32.31901 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:23:32.31902 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:23:32.31902 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:23:32.31903 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:23:32.31904 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:23:32.31905 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:23:32.31908 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:23:32.31908 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:23:32.31909 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:23:32.31910 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:23:32.31911 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:23:32.31912 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:23:32.31912 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:23:32.31913 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:23:32.31914 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:23:32.31915 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:23:32.31917 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:23:32.31918 
2023-11-13_19:23:32.31919 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:23:32.31919 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:23:32.31920 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:23:32.31921 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:23:32.31922 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:23:32.31925 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:23:32.31926 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:23:32.31927 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:23:32.31928 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:23:32.31929 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:23:32.31930 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:23:32.31931 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:23:32.31933 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:23:32.31934 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:23:32.31935 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:23:32.31936 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:23:32.31937 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:23:32.31938 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:23:32.31938 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:23:32.31941 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:23:32.31942 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:23:32.31943 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:23:32.31944 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:23:32.31944 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:23:32.31945 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:23:32.31946 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:23:32.31947 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:23:32.31950 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:23:32.31951 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:23:32.31952 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:23:32.31952 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:23:32.31954 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:23:32.31955 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:23:32.31956 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:23:32.31957 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:23:32.31958 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:23:32.31958 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:23:32.31961 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:23:32.31962 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:23:32.31963 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:23:32.31963 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:23:32.31964 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:23:32.31965 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:23:32.31966 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:23:32.31966 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:23:32.31969 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:23:32.31970 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:23:32.31970 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:23:32.31971 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:23:32.31972 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:23:32.31973 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:23:32.31973 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:23:32.31974 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:23:32.31975 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:23:32.31976 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:23:32.31978 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:23:32.31979 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:23:32.31980 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:23:32.31981 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:23:32.31981 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:23:32.31982 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:23:32.31983 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:23:32.31986 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:23:32.31987 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:32.31987 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:32.31988 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:23:32.31990 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:23:32.31991 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:23:32.31991 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:23:32.31992 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:23:32.31993 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:23:32.31994 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:23:32.31994 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:23:32.31995 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:23:32.31996 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:23:32.31997 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:23:32.31998 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:23:32.32000 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:23:32.32001 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:23:32.32001 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:23:32.32002 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:23:32.32003 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:23:32.32004 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:23:32.32004 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:23:32.32005 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:23:32.32006 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:23:32.32007 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:23:32.32009 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:23:32.32010 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:23:32.32011 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:23:32.32011 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:23:32.32012 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:23:32.32023 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:23:32.32024 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:23:32.32026 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:23:32.32027 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:23:32.32030 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:23:32.32031 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:23:32.32032 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:23:32.32033 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:23:32.32034 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:23:32.32035 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:23:32.32036 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:23:32.32036 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:23:32.32039 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:23:32.32040 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:23:32.32041 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:23:32.32042 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:23:32.32042 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:23:32.32043 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:23:32.32047 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:23:32.32048 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:23:32.32049 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:23:32.32050 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:23:32.32051 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:23:32.32052 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:23:32.32052 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:23:32.32053 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:23:32.32057 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:23:32.32058 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:23:32.32059 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:23:32.32059 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:23:32.32060 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:23:32.32061 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:23:32.32062 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:23:32.32063 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:23:32.32063 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:23:32.32067 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:23:32.32068 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:23:32.32069 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:23:32.32070 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:23:32.32070 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:23:32.32071 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:23:32.32072 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:23:32.32073 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:23:32.32075 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:23:32.32076 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:23:32.32077 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:23:32.32077 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:23:32.32078 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:23:32.32079 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:23:32.32080 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:23:32.32081 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:23:32.32082 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:23:32.32084 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:23:32.32085 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:23:32.32086 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:23:32.32086 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:23:32.32089 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:23:32.32090 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:23:32.32091 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:23:32.32091 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:23:32.32092 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:23:32.32093 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:23:32.32096 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:23:32.32096 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:23:32.32097 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:23:32.32098 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:23:32.32099 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:23:32.32100 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:23:32.32100 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:23:32.32101 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:32.32102 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:32.32103 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:23:32.32104 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:23:32.32107 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:23:32.32107 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:23:32.32108 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:23:32.32109 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:23:32.32110 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:23:32.32110 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:23:32.32111 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:23:32.32112 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:23:32.32113 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:23:32.32114 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:23:32.32114 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:23:32.32116 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:23:32.32117 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:23:32.32118 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:23:32.32119 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:23:32.32120 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:23:32.32122 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:23:32.32122 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:23:32.32123 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:23:32.32124 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:23:32.32124 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:23:32.32126 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:23:32.32127 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:23:32.32128 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:23:32.32128 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:23:32.32129 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:23:32.32130 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:23:35.01535 {"timestamp":"2023-11-13T19:23:35.000Z","pid":20619,"message":"Puma starting in cluster mode..."}
2023-11-13_19:23:35.01538 {"timestamp":"2023-11-13T19:23:35.015Z","pid":20619,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:23:35.01538 {"timestamp":"2023-11-13T19:23:35.015Z","pid":20619,"message":"*  Min threads: 4"}
2023-11-13_19:23:35.01539 {"timestamp":"2023-11-13T19:23:35.015Z","pid":20619,"message":"*  Max threads: 4"}
2023-11-13_19:23:35.01543 {"timestamp":"2023-11-13T19:23:35.015Z","pid":20619,"message":"*  Environment: production"}
2023-11-13_19:23:35.01548 {"timestamp":"2023-11-13T19:23:35.015Z","pid":20619,"message":"*   Master PID: 20619"}
2023-11-13_19:23:35.01552 {"timestamp":"2023-11-13T19:23:35.015Z","pid":20619,"message":"*      Workers: 14"}
2023-11-13_19:23:35.01559 {"timestamp":"2023-11-13T19:23:35.015Z","pid":20619,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:23:35.01565 {"timestamp":"2023-11-13T19:23:35.015Z","pid":20619,"message":"* Preloading application"}
2023-11-13_19:23:52.44095 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:23:53.43734 {"timestamp":"2023-11-13T19:23:53.437Z","pid":20619,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:23:53.43750 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:23:53.43777 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:23:53.43779 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:23:53.43780 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:23:53.43781 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:23:53.43781 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:23:53.43782 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:23:53.43782 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:23:53.43784 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:23:53.43785 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:23:53.43785 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:23:53.43786 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:23:53.43786 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:23:53.43787 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:23:53.43787 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:23:53.43787 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:23:53.43788 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:23:53.43788 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:23:53.43789 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:23:53.43789 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:23:53.43790 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:23:53.43790 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:23:53.43791 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:23:53.43791 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:23:53.43791 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:23:53.43792 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:23:53.43792 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:23:53.43793 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:23:53.43793 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:23:53.43793 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:23:53.43794 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:23:53.43795 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:23:53.43795 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:23:53.43796 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:23:53.43796 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:23:53.43796 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:23:53.43797 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:23:53.43797 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:23:53.43799 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:23:53.43800 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:23:53.43800 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:23:53.43800 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:23:53.43801 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:23:53.43801 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:23:53.43801 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:23:53.43802 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:23:53.43802 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:23:53.43803 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:23:53.43804 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:23:53.43804 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:23:53.43804 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:23:53.43805 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:23:53.43805 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:23:53.43805 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:23:53.43806 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:23:53.43806 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:23:53.43807 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:53.43807 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:53.43807 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:23:53.43808 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:23:53.43809 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:23:53.43809 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:23:53.43809 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:23:53.43810 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:23:53.43810 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:23:53.43810 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:23:53.43811 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:23:53.43811 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:23:53.43812 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:23:53.43812 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:23:53.43813 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:23:53.43814 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:23:53.43814 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:23:53.43815 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:23:53.43815 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:23:53.43815 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:23:53.43816 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:23:53.43816 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:23:53.43817 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:23:53.43817 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:23:53.43818 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:23:53.43818 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:23:53.43819 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:23:53.43819 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:23:53.43820 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:23:53.43820 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:23:53.43820 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:23:53.43821 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:23:53.43822 
2023-11-13_19:23:53.43822 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:23:53.43822 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:23:53.43823 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:23:53.43823 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:23:53.43824 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:23:53.43824 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:23:53.43824 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:23:53.43825 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:23:53.43826 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:23:53.43826 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:23:53.43827 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:23:53.43828 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:23:53.43828 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:23:53.43829 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:23:53.43830 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:23:53.43830 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:23:53.43830 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:23:53.43831 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:23:53.43831 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:23:53.43832 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:23:53.43832 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:23:53.43833 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:23:53.43833 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:23:53.43834 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:23:53.43834 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:23:53.43835 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:23:53.43835 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:23:53.43835 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:23:53.43836 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:23:53.43836 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:23:53.43836 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:23:53.43837 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:23:53.43838 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:23:53.43838 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:23:53.43839 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:23:53.43839 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:23:53.43839 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:23:53.43841 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:23:53.43841 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:23:53.43842 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:23:53.43842 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:23:53.43843 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:23:53.43843 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:23:53.43843 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:23:53.43844 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:23:53.43844 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:23:53.43844 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:23:53.43845 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:23:53.43846 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:23:53.43846 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:23:53.43847 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:23:53.43847 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:23:53.43847 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:23:53.43848 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:23:53.43848 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:23:53.43848 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:23:53.43849 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:23:53.43849 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:23:53.43850 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:23:53.43851 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:23:53.43851 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:23:53.43851 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:23:53.43852 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:23:53.43852 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:53.43852 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:53.43853 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:23:53.43853 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:23:53.43853 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:23:53.43854 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:23:53.43857 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:23:53.43858 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:23:53.43858 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:23:53.43858 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:23:53.43859 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:23:53.43859 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:23:53.43859 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:23:53.43859 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:23:53.43860 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:23:53.43860 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:23:53.43861 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:23:53.43862 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:23:53.43862 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:23:53.43863 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:23:53.43863 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:23:53.43863 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:23:53.43864 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:23:53.43864 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:23:53.43865 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:23:53.43865 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:23:53.43866 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:23:53.43866 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:23:53.43867 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:23:53.43867 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:23:53.43867 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:23:53.43868 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:23:53.43868 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:23:53.43869 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:23:53.43869 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:23:53.43869 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:23:53.43870 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:23:53.43872 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:23:53.43872 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:23:53.43872 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:23:53.43873 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:23:53.43873 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:23:53.43874 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:23:53.43875 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:23:53.43875 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:23:53.43876 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:23:53.43876 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:23:53.43876 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:23:53.43877 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:23:53.43877 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:23:53.43878 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:23:53.43879 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:23:53.43879 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:23:53.43880 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:23:53.43880 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:23:53.43881 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:23:53.43881 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:23:53.43882 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:23:53.43883 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:23:53.43883 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:23:53.43884 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:23:53.43884 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:23:53.43886 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:23:53.43887 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:23:53.43887 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:23:53.43888 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:23:53.43889 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:23:53.43890 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:23:53.43890 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:23:53.43891 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:23:53.43891 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:23:53.43892 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:23:53.43892 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:23:53.43893 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:23:53.43893 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:23:53.43894 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:23:53.43895 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:23:53.43895 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:23:53.43896 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:23:53.43896 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:23:53.43897 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:23:53.43897 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:23:53.43898 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:23:53.43898 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:23:53.43900 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:23:53.43900 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:23:53.43901 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:23:53.43901 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:23:53.43902 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:23:53.43902 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:23:53.43903 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:23:53.43903 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:23:53.43904 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:23:53.43905 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:23:53.43906 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:23:53.43907 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:23:53.43907 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:23:53.43908 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:23:53.43908 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:53.43908 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:23:53.43909 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:23:53.43909 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:23:53.43909 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:23:53.43910 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:23:53.43910 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:23:53.43911 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:23:53.43911 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:23:53.43912 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:23:53.43912 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:23:53.43913 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:23:53.43913 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:23:53.43914 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:23:53.43914 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:23:53.43914 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:23:53.43915 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:23:53.43915 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:23:53.43916 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:23:53.43917 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:23:53.43917 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:23:53.43918 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:23:53.43918 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:23:53.43918 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:23:53.43919 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:23:53.43919 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:23:53.43921 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:23:53.43923 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:23:53.43923 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:23:53.43923 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:23:53.43924 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:23:56.12321 {"timestamp":"2023-11-13T19:23:56.109Z","pid":21761,"message":"Puma starting in cluster mode..."}
2023-11-13_19:23:56.12326 {"timestamp":"2023-11-13T19:23:56.123Z","pid":21761,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:23:56.12331 {"timestamp":"2023-11-13T19:23:56.123Z","pid":21761,"message":"*  Min threads: 4"}
2023-11-13_19:23:56.12336 {"timestamp":"2023-11-13T19:23:56.123Z","pid":21761,"message":"*  Max threads: 4"}
2023-11-13_19:23:56.12340 {"timestamp":"2023-11-13T19:23:56.123Z","pid":21761,"message":"*  Environment: production"}
2023-11-13_19:23:56.12344 {"timestamp":"2023-11-13T19:23:56.123Z","pid":21761,"message":"*   Master PID: 21761"}
2023-11-13_19:23:56.12348 {"timestamp":"2023-11-13T19:23:56.123Z","pid":21761,"message":"*      Workers: 14"}
2023-11-13_19:23:56.12354 {"timestamp":"2023-11-13T19:23:56.123Z","pid":21761,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:23:56.12358 {"timestamp":"2023-11-13T19:23:56.123Z","pid":21761,"message":"* Preloading application"}
2023-11-13_19:24:13.45019 Rails Error: Unable to access log file. Please ensure that /opt/gitlab/embedded/service/gitlab-rails/log/production.log exists and is writable (i.e. make it writable for user and group: chmod 0664 /opt/gitlab/embedded/service/gitlab-rails/log/production.log). The log level has been raised to WARN and the output directed to STDERR until the problem is fixed.
2023-11-13_19:24:14.60194 {"timestamp":"2023-11-13T19:24:14.601Z","pid":21761,"message":"! Unable to load application: Errno::EACCES: Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log"}
2023-11-13_19:24:14.60240 bundler: failed to load command: puma (/opt/gitlab/embedded/bin/puma)
2023-11-13_19:24:14.60268 /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `initialize': Permission denied @ rb_sysopen - /opt/gitlab/embedded/service/gitlab-rails/log/application_json.log (Errno::EACCES)
2023-11-13_19:24:14.60271 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open'
2023-11-13_19:24:14.60272 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:95:in `open_logfile'
2023-11-13_19:24:14.60274 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:86:in `set_dev'
2023-11-13_19:24:14.60275 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger/log_device.rb:18:in `initialize'
2023-11-13_19:24:14.60277 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `new'
2023-11-13_19:24:14.60278 	from /opt/gitlab/embedded/lib/ruby/3.0.0/logger.rb:390:in `initialize'
2023-11-13_19:24:14.60280 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/gitlab-labkit-0.34.0/lib/labkit/logging/json_logger.rb:36:in `initialize'
2023-11-13_19:24:14.60281 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `new'
2023-11-13_19:24:14.60282 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/json_logger.rb:33:in `build'
2023-11-13_19:24:14.60285 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `block in warn'
2023-11-13_19:24:14.60287 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `each'
2023-11-13_19:24:14.60288 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/multi_destination_logger.rb:18:in `warn'
2023-11-13_19:24:14.60290 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:58:in `rescue in current'
2023-11-13_19:24:14.60293 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:51:in `current'
2023-11-13_19:24:14.60294 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:24:14.60295 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:24:14.60296 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:24:14.60297 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:24:14.60300 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:24:14.60301 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:24:14.60302 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:24:14.60303 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:24:14.60304 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:24:14.60305 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:24:14.60306 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:24:14.60307 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:24:14.60308 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:24:14.60309 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:24:14.60312 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:24:14.60312 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:24:14.60313 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:24:14.60314 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:24:14.60315 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:24:14.60316 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:24:14.60317 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:24:14.60318 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:24:14.60321 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:24:14.60322 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:24:14.60323 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:24:14.60324 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:24:14.60325 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:24:14.60326 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:24:14.60328 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:24:14.60329 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:24:14.60330 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:24:14.60331 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:24:14.60334 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:24:14.60335 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:24:14.60335 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:24:14.60336 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:24:14.60337 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:24:14.60338 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:24:14.60339 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:24:14.60340 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:24:14.60341 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:24:14.60342 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:24:14.60342 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:24:14.60345 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:24:14.60346 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:24:14.60347 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:24:14.60347 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:24:14.60348 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:24:14.60349 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:24:14.60350 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:24:14.60351 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:24:14.60352 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:24:14.60352 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:24:14.60353 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:24:14.60356 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:24:14.60356 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:24:14.60357 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:24:14.60358 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:24:14.60359 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:24:14.60360 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:24:14.60360 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:24:14.60361 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:24:14.60363 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:24:14.60364 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:24:14.60366 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:24:14.60367 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:24:14.60367 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:24:14.60368 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:24:14.60369 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:24:14.60369 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:24:14.60370 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:24:14.60371 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client': There is an issue connecting to your database with your username/password, username: gitlab. (ActiveRecord::DatabaseConnectionError)
2023-11-13_19:24:14.60374 
2023-11-13_19:24:14.60374 Please check your database configuration to ensure the username/password are valid.
2023-11-13_19:24:14.60375 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
2023-11-13_19:24:14.60376 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:24:14.60377 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:24:14.60378 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:24:14.60379 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:24:14.60380 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:24:14.60382 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:24:14.60383 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:24:14.60384 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:24:14.60385 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:24:14.60386 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:24:14.60387 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:24:14.60388 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:24:14.60390 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:24:14.60393 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:24:14.60394 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:24:14.60394 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:24:14.60395 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:24:14.60396 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:24:14.60397 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:24:14.60399 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:24:14.60400 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:24:14.60400 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:24:14.60401 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:24:14.60402 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:24:14.60402 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:24:14.60403 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:24:14.60404 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:24:14.60404 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:24:14.60405 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:24:14.60407 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:24:14.60407 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:24:14.60408 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:24:14.60409 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:24:14.60409 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:24:14.60410 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:24:14.60411 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:24:14.60411 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:24:14.60413 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:24:14.60414 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:24:14.60415 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:24:14.60416 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:24:14.60419 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:24:14.60420 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:24:14.60421 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:24:14.60421 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:24:14.60422 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:24:14.60424 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:24:14.60424 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:24:14.60425 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:24:14.60426 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:24:14.60426 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:24:14.60427 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:24:14.60428 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:24:14.60428 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:24:14.60429 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:24:14.60429 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:24:14.60430 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:24:14.60432 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:24:14.60433 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:24:14.60433 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:24:14.60434 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:24:14.60435 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:24:14.60435 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:24:14.60436 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:24:14.60437 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:24:14.60437 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:24:14.60438 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:24:14.60440 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:24:14.60440 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:24:14.60441 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:24:14.60442 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:24:14.60442 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:24:14.60443 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:24:14.60444 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:24:14.60445 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:24:14.60446 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:24:14.60446 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:24:14.60447 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:24:14.60449 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:24:14.60449 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:24:14.60450 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:24:14.60451 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:24:14.60451 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:24:14.60452 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:24:14.60453 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:24:14.60453 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:24:14.60454 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:24:14.60456 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:24:14.60456 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:24:14.60457 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:24:14.60457 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:24:14.60458 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:24:14.60459 /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_start': connection to server on socket "/var/opt/gitlab/postgresql/.s.PGSQL.5432" failed: Permission denied (PG::ConnectionBad)
2023-11-13_19:24:14.60459 	Is the server running locally and accepting connections on that socket?
2023-11-13_19:24:14.60460 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:819:in `connect_to_hosts'
2023-11-13_19:24:14.60461 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg/connection.rb:759:in `new'
2023-11-13_19:24:14.60461 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/pg-1.5.4/lib/pg.rb:63:in `connect'
2023-11-13_19:24:14.60463 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `new_client'
2023-11-13_19:24:14.60464 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
2023-11-13_19:24:14.60465 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
2023-11-13_19:24:14.60465 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
2023-11-13_19:24:14.60466 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
2023-11-13_19:24:14.60467 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
2023-11-13_19:24:14.60468 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
2023-11-13_19:24:14.60470 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
2023-11-13_19:24:14.60471 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
2023-11-13_19:24:14.60472 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
2023-11-13_19:24:14.60472 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:313:in `retrieve_connection'
2023-11-13_19:24:14.60473 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/connection_handling.rb:280:in `connection'
2023-11-13_19:24:14.60474 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/model_schema.rb:407:in `table_exists?'
2023-11-13_19:24:14.60474 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:95:in `get_primary_key'
2023-11-13_19:24:14.60476 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:83:in `reset_primary_key'
2023-11-13_19:24:14.60477 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/attribute_methods/primary_key.rb:71:in `primary_key'
2023-11-13_19:24:14.60478 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/delegation.rb:93:in `primary_key'
2023-11-13_19:24:14.60478 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:575:in `ordered_relation'
2023-11-13_19:24:14.60479 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/relation/finder_methods.rb:174:in `last'
2023-11-13_19:24:14.60479 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activerecord-7.0.8/lib/active_record/querying.rb:22:in `last'
2023-11-13_19:24:14.60480 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:19:in `current_without_cache'
2023-11-13_19:24:14.60482 	from /opt/gitlab/embedded/service/gitlab-rails/app/models/concerns/cacheable_attributes.rb:55:in `current'
2023-11-13_19:24:14.60483 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:60:in `uncached_application_settings'
2023-11-13_19:24:14.60483 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:42:in `ensure_application_settings!'
2023-11-13_19:24:14.60484 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `block in current_application_settings'
2023-11-13_19:24:14.60485 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-safe_request_store/lib/gitlab/safe_request_store/null_store.rb:37:in `fetch'
2023-11-13_19:24:14.60485 	from /opt/gitlab/embedded/lib/ruby/3.0.0/forwardable.rb:238:in `fetch'
2023-11-13_19:24:14.60486 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:15:in `current_application_settings'
2023-11-13_19:24:14.60487 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/current_settings.rb:32:in `method_missing'
2023-11-13_19:24:14.60487 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:99:in `prometheus_metrics_enabled_unmemoized'
2023-11-13_19:24:14.60489 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:24:in `block in prometheus_metrics_enabled?'
2023-11-13_19:24:14.60490 	from /opt/gitlab/embedded/service/gitlab-rails/gems/gitlab-utils/lib/gitlab/utils/strong_memoize.rb:34:in `strong_memoize'
2023-11-13_19:24:14.60491 	from /opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/metrics/prometheus.rb:23:in `prometheus_metrics_enabled?'
2023-11-13_19:24:14.60492 	from /opt/gitlab/embedded/service/gitlab-rails/config/initializers/7_prometheus_metrics.rb:59:in `<top (required)>'
2023-11-13_19:24:14.60493 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `load'
2023-11-13_19:24:14.60493 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:667:in `block in load_config_initializer'
2023-11-13_19:24:14.60494 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/activesupport-7.0.8/lib/active_support/notifications.rb:208:in `instrument'
2023-11-13_19:24:14.60495 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:666:in `load_config_initializer'
2023-11-13_19:24:14.60495 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:620:in `block (2 levels) in <class:Engine>'
2023-11-13_19:24:14.60497 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `each'
2023-11-13_19:24:14.60498 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/engine.rb:619:in `block in <class:Engine>'
2023-11-13_19:24:14.60498 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `instance_exec'
2023-11-13_19:24:14.60499 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:32:in `run'
2023-11-13_19:24:14.60500 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:61:in `block in run_initializers'
2023-11-13_19:24:14.60500 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:228:in `block in tsort_each'
2023-11-13_19:24:14.60501 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
2023-11-13_19:24:14.60502 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:422:in `block (2 levels) in each_strongly_connected_component_from'
2023-11-13_19:24:14.60502 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:431:in `each_strongly_connected_component_from'
2023-11-13_19:24:14.60504 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:421:in `block in each_strongly_connected_component_from'
2023-11-13_19:24:14.60505 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `each'
2023-11-13_19:24:14.60505 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:50:in `tsort_each_child'
2023-11-13_19:24:14.60506 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `call'
2023-11-13_19:24:14.60507 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:415:in `each_strongly_connected_component_from'
2023-11-13_19:24:14.60507 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:349:in `block in each_strongly_connected_component'
2023-11-13_19:24:14.60508 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each'
2023-11-13_19:24:14.60509 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `call'
2023-11-13_19:24:14.60509 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:347:in `each_strongly_connected_component'
2023-11-13_19:24:14.60510 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:226:in `tsort_each'
2023-11-13_19:24:14.60510 	from /opt/gitlab/embedded/lib/ruby/3.0.0/tsort.rb:205:in `tsort_each'
2023-11-13_19:24:14.60512 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/initializable.rb:60:in `run_initializers'
2023-11-13_19:24:14.60513 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/railties-7.0.8/lib/rails/application.rb:372:in `initialize!'
2023-11-13_19:24:14.60514 	from /opt/gitlab/embedded/service/gitlab-rails/config/environment.rb:7:in `<top (required)>'
2023-11-13_19:24:14.60514 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:24:14.60516 	from <internal:/opt/gitlab/embedded/lib/ruby/site_ruby/3.0.0/rubygems/core_ext/kernel_require.rb>:38:in `require'
2023-11-13_19:24:14.60516 	from /opt/gitlab/embedded/service/gitlab-rails/config.ru:5:in `block in <main>'
2023-11-13_19:24:14.60517 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'
2023-11-13_19:24:14.60518 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'
2023-11-13_19:24:14.60518 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'
2023-11-13_19:24:14.60519 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'
2023-11-13_19:24:14.60521 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:368:in `load_rackup'
2023-11-13_19:24:14.60522 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/configuration.rb:290:in `app'
2023-11-13_19:24:14.60526 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/runner.rb:162:in `load_and_bind'
2023-11-13_19:24:14.60527 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cluster.rb:359:in `run'
2023-11-13_19:24:14.60528 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/launcher.rb:194:in `run'
2023-11-13_19:24:14.60528 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/lib/puma/cli.rb:75:in `run'
2023-11-13_19:24:14.60529 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/puma-6.4.0/bin/puma:10:in `<top (required)>'
2023-11-13_19:24:14.60529 	from /opt/gitlab/embedded/bin/puma:25:in `load'
2023-11-13_19:24:14.60530 	from /opt/gitlab/embedded/bin/puma:25:in `<top (required)>'
2023-11-13_19:24:14.60531 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `load'
2023-11-13_19:24:14.60531 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:58:in `kernel_load'
2023-11-13_19:24:14.60533 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli/exec.rb:23:in `run'
2023-11-13_19:24:14.60534 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:492:in `exec'
2023-11-13_19:24:14.60535 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
2023-11-13_19:24:14.60535 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
2023-11-13_19:24:14.60536 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
2023-11-13_19:24:14.60537 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:34:in `dispatch'
2023-11-13_19:24:14.60537 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
2023-11-13_19:24:14.60538 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/cli.rb:28:in `start'
2023-11-13_19:24:14.60538 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:37:in `block in <top (required)>'
2023-11-13_19:24:14.60541 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/lib/bundler/friendly_errors.rb:117:in `with_friendly_errors'
2023-11-13_19:24:14.60541 	from /opt/gitlab/embedded/lib/ruby/gems/3.0.0/gems/bundler-2.4.20/exe/bundle:29:in `<top (required)>'
2023-11-13_19:24:14.60542 	from /opt/gitlab/embedded/bin/bundle:25:in `load'
2023-11-13_19:24:14.60542 	from /opt/gitlab/embedded/bin/bundle:25:in `<main>'
2023-11-13_19:24:17.65255 {"timestamp":"2023-11-13T19:24:17.638Z","pid":22906,"message":"Puma starting in cluster mode..."}
2023-11-13_19:24:17.65261 {"timestamp":"2023-11-13T19:24:17.652Z","pid":22906,"message":"* Puma version: 6.4.0 (ruby 3.0.6-p216) (\"The Eagle of Durango\")"}
2023-11-13_19:24:17.65265 {"timestamp":"2023-11-13T19:24:17.652Z","pid":22906,"message":"*  Min threads: 4"}
2023-11-13_19:24:17.65270 {"timestamp":"2023-11-13T19:24:17.652Z","pid":22906,"message":"*  Max threads: 4"}
2023-11-13_19:24:17.65273 {"timestamp":"2023-11-13T19:24:17.652Z","pid":22906,"message":"*  Environment: production"}
2023-11-13_19:24:17.65277 {"timestamp":"2023-11-13T19:24:17.652Z","pid":22906,"message":"*   Master PID: 22906"}
2023-11-13_19:24:17.65283 {"timestamp":"2023-11-13T19:24:17.652Z","pid":22906,"message":"*      Workers: 14"}
2023-11-13_19:24:17.65290 {"timestamp":"2023-11-13T19:24:17.652Z","pid":22906,"message":"*     Restarts: (✔) hot (✖) phased"}
2023-11-13_19:24:17.65293 {"timestamp":"2023-11-13T19:24:17.652Z","pid":22906,"message":"* Preloading application"}
